var LLMS=window.LLMS||{};!function(r){"use strict";LLMS.Achievements={init:function(){var t=this;r(".llms-achievement")&&r(document).on("ready",function(){t.bind(),t.maybe_open()})},bind:function(){var i=this;r(".llms-achievement").each(function(){i.create_modal(r(this))}),r(".llms-achievement").on("click",function(){var t=r(this),e="achievement-"+t.attr("data-id"),n=r("#"+e);n.length||i.create_modal(t),n.iziModal("open")})},create_modal:function(e){var t="achievement-"+e.attr("data-id"),n=r("#"+t);n.length||(n=r('<div class="llms-achievement-modal" id="'+t+'" />'),r("body").append(n)),n.iziModal({headerColor:"#3a3a3a",group:"achievements",history:!0,loop:!0,overlayColor:"rgba( 0, 0, 0, 0.6 )",transitionIn:"fadeInDown",transitionOut:"fadeOutDown",width:340,onOpening:function(t){t.setTitle(e.find(".llms-achievement-title").html()),t.setSubtitle(e.find(".llms-achievement-date").html()),t.setContent('<div class="llms-achievement">'+e.html()+"</div>")},onClosing:function(){window.history.pushState("",document.title,window.location.pathname+window.location.search)}})},maybe_open:function(){var t=window.location.hash;t&&-1!==t.indexOf("achievement-")&&r('a[href="'+t+'"]').first().trigger("click")}},LLMS.Ajax={url:window.ajaxurl||window.llms.ajaxurl,type:"post",data:[],cache:!1,dataType:"json",async:!0,response:[],init:function(t){if(null===t||"object"!=typeof t)return!1;t.url="url"in t?t.url:this.url,t.type="type"in t?t.type:this.type,t.data="data"in t?t.data:this.data,t.cache="cache"in t?t.cache:this.cache,t.dataType="dataType"in t?t.dataType:this.dataType,t.async="async"in t?t.async:this.async,t.data._ajax_nonce=wp_ajax_data.nonce;var e=LLMS.Rest.get_query_vars();return t.data.post_id="post"in e?e.post:null,!t.data.post_id&&r("input#post_ID").length&&(t.data.post_id=r("input#post_ID").val()),t},call:function(t){var e=this.init(t);return!!e&&(this.request(e),this)},request:function(t){return r.ajax(t),this}},LLMS.Donut=function(t){function e(t){this.settings=r.extend({element:t.element,percent:100},t),this.circle=this.settings.element.find("path"),this.settings.stroke_width=parseInt(this.circle.css("stroke-width")),this.radius=(parseInt(this.settings.element.css("width"))-this.settings.stroke_width)/2,this.angle=-97.5,this.i=Math.round(.75*this.settings.percent),this.first=!0,this.animate=function(){this.timer=setInterval(this.loop.bind(this),10)},this.loop=function(){this.angle+=5,this.angle%=360;var t,e=this.angle/180*Math.PI,n=this.radius+this.settings.stroke_width/2+Math.cos(e)*this.radius,i=this.radius+this.settings.stroke_width/2+Math.sin(e)*this.radius;!0===this.first?(t=this.circle.attr("d")+" M "+n+" "+i,this.first=!1):t=this.circle.attr("d")+" L "+n+" "+i,this.circle.attr("d",t),this.i--,this.i<=0&&clearInterval(this.timer)}}var n;(n=t).append('<svg preserveAspectRatio="xMidYMid" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M100,100" /></svg>'),new e({element:n,percent:n.attr("data-perc")}).animate()},LLMS.Instructors={init:function(){var t=this;r("body").hasClass("wp-admin")||r(".llms-instructors").length&&LLMS.wait_for_matchHeight(function(){t.bind()})},bind:function(){r(".llms-instructors .llms-author").matchHeight()}},LLMS.l10n=LLMS.l10n||{},LLMS.l10n.translate=function(t){return this.strings[t]?this.strings[t]:t},LLMS.l10n.replace=function(t,e){var n=this.translate(t);return r.each(e,function(t,e){-1!==t.indexOf("s")?e=e.toString():-1!==t.indexOf("d")&&(e*=1),n=n.replace(t,e)}),n},LLMS.LessonPreview={$els:null,init:function(){var t=this;this.$locked=r('a[href="#llms-lesson-locked"]'),this.$locked.length&&t.bind(),r(".llms-course-navigation").length&&LLMS.wait_for_matchHeight(function(){t.match_height()})},bind:function(){var n=this;this.$locked.on("click",function(){return!1}),this.$locked.on("mouseenter",function(){var t=r(this).find(".llms-tooltip");if(!t.length){var e=r(this).attr("data-tooltip-msg");e||(e=LLMS.l10n.translate("You do not have permission to access this content")),t=n.get_tooltip(e),r(this).append(t)}setTimeout(function(){t.addClass("show")},10)}),this.$locked.on("mouseleave",function(){r(this).find(".llms-tooltip").removeClass("show")})},match_height:function(){r(".llms-course-navigation .llms-lesson-link").matchHeight()},get_tooltip:function(t){var e=r('<div class="llms-tooltip" />');return e.append('<div class="llms-tooltip-content">'+t+"</div>"),e}},LLMS.Loops={init:function(){var t=this;r(".llms-loop").length&&LLMS.wait_for_matchHeight(function(){t.match_height()})},match_height:function(){r(".llms-loop-item .llms-loop-item-content").matchHeight(),r(".llms-achievement-loop-item .llms-achievement").matchHeight(),r(".llms-certificate-loop-item .llms-certificate").matchHeight()}},LLMS.OutlineCollapse={$outlines:null,init:function(){this.$outlines=r(".llms-widget-syllabus--collapsible"),this.$outlines.length&&this.bind()},bind:function(){var i=this;this.$outlines.each(function(){var t=r(this),e=t.find(".llms-section .section-header");e.on("click",function(t){t.preventDefault();var e=r(this).closest(".llms-section");switch(i.get_section_state(e)){case"closed":i.open_section(e);break;case"opened":i.close_section(e)}}),t.find(".llms-collapse-toggle").on("click",function(t){t.preventDefault();var n="close"===r(this).attr("data-action")?"opened":"closed";e.each(function(){var t=r(this).closest(".llms-section"),e=i.get_section_state(t);if(n!==e)return!0;switch(e){case"closed":i.close_section(t);break;case"opened":i.open_section(t)}r(this).trigger("click")})})})},close_section:function(t){t.removeClass("llms-section--opened").addClass("llms-section--closed")},open_section:function(t){t.removeClass("llms-section--closed").addClass("llms-section--opened")},get_section_state:function(t){return t.hasClass("llms-section--opened")?"opened":"closed"}},r.extend(LLMS.PasswordStrength,{$pass:r(".llms-password"),$conf:r(".llms-password-confirm"),$meter:r(".llms-password-strength-meter"),$form:null,init:function(){if(!r("body").hasClass("wp-admin")&&this.$meter.length){this.$form=this.$pass.closest("form");var t,e=this,n=0;t=setInterval(function(){if(300<=n)console.log("cannot do password strength meter.");else{if("undefined"==typeof wp&&void 0===wp.passwordStrength)return void n++;e.bind(),e.$form.trigger("llms-password-strength-ready")}clearInterval(t)},100)}},bind:function(){var t=this;this.$form.hasClass("llms-checkout")||this.$form.on("submit",t,t.submit),t.$pass.add(t.$conf).on("keyup",function(){t.check_strength()})},check_strength:function(){var t=this.$pass.closest(".llms-form-field"),e=this.$conf.closest(".llms-form-field"),n=this.$pass.val().length,i=this.$conf.val().length;if(!n&&!i)return t.removeClass("valid invalid"),e.removeClass("valid invalid"),void this.$meter.hide();this.get_current_strength_status()?(t.removeClass("invalid").addClass("valid"),i&&e.removeClass("invalid").addClass("valid")):(t.removeClass("valid").addClass("invalid"),i&&e.removeClass("valid").addClass("invalid")),this.$meter.removeClass("too-short very-weak weak medium strong mismatch"),this.$meter.show().addClass(this.get_current_strength("slug")),this.$meter.html(this.get_current_strength("text"))},checkout:function(t,e){t.get_current_strength_status()?e(!0):e(LLMS.l10n.translate("There is an issue with your chosen password."))},get_blacklist:function(){return wp.passwordStrength.userInputBlacklist()},get_current_strength:function(t){t=t||"int";var e,n=this.$pass.val(),i=this.$conf.val();return n.length<6?e=-1:0===(e=wp.passwordStrength.meter(n,this.get_blacklist(),i))&&(e=1),"slug"===t?this.get_strength_slug(e):"text"===t?this.get_strength_text(e):e},get_current_strength_status:function(){var t=this.get_current_strength(),e=this.get_strength_value(this.get_minimum_strength());return 5!==t&&e<=t},get_strength_slug:function(t){var e={"-1":"too-short",1:"very-weak",2:"weak",3:"medium",4:"strong",5:"mismatch"};return e[t]?e[t]:e[5]},get_strength_text:function(t){var e={"-1":LLMS.l10n.translate("Too Short"),1:LLMS.l10n.translate("Very Weak"),2:LLMS.l10n.translate("Weak"),3:LLMS.l10n.translate("Medium"),4:LLMS.l10n.translate("Strong"),5:LLMS.l10n.translate("Mismatch")};return e[t]?e[t]:e[5]},get_strength_value:function(t){var e={"too-short":-1,"very-weak":1,weak:2,medium:3,strong:4,mismatch:5};return e[t]?e[t]:e.mismatch},submit:function(t){var e=t.data;t.preventDefault(),e.$pass.trigger("keyup"),e.get_current_strength_status()?(e.$form.off("submit",e.submit),e.$form.trigger("submit")):(r("html, body").animate({scrollTop:e.$meter.offset().top-100},200),e.$meter.hide(),setTimeout(function(){e.$meter.fadeIn(400)},220))}}),LLMS.Pricing_Tables={init:function(){var t=this;r("body").hasClass("wp-admin")||r(".llms-access-plans").length&&(LLMS.wait_for_matchHeight(function(){t.bind()}),this.$locked=r('a[href="#llms-plan-locked"]'),this.$locked.length&&LLMS.wait_for_popover(function(){t.bind_locked()}))},bind:function(){r(".llms-access-plan-content").matchHeight(),r(".llms-access-plan-pricing.trial").matchHeight()},bind_locked:function(){this.$locked.each(function(){r(this).webuiPopover({animation:"pop",closeable:!0,content:function(t){var e=r('<div class="llms-members-only-restrictions" />');return e.append(t.$element.closest(".llms-access-plan").find(".llms-access-plan-restrictions ul").clone()),e},placement:"top",style:"inverse",title:LLMS.l10n.translate("Members Only Pricing"),width:"280px"})})}},LLMS.Review={init:function(){this.bind()},bind:function(){r("#llms_review_submit_button").click(function(){""!==r("#review_title").val()&&""!==r("#review_text").val()?jQuery.ajax({type:"post",dataType:"json",url:window.llms.ajaxurl,data:{action:"LLMSSubmitReview",review_title:r("#review_title").val(),review_text:r("#review_text").val(),pageID:r("#post_ID").val()},success:function(){console.log("Review success"),r("#review_box").hide("swing"),r("#thank_you_box").show("swing")},error:function(t,e,n){console.log(t),console.log(e),console.log(n)}}):(""===r("#review_title").val()?r("#review_title_error").show("swing"):r("#review_title_error").hide("swing"),""===r("#review_text").val()?r("#review_text_error").show("swing"):r("#review_text_error").hide("swing"))}),r("#_llms_display_reviews").attr("checked")?(r(".llms-num-reviews-top").addClass("top"),r(".llms-num-reviews-bottom").show()):r(".llms-num-reviews-bottom").hide(),r("#_llms_display_reviews").change(function(){r("#_llms_display_reviews").attr("checked")?(r(".llms-num-reviews-top").addClass("top"),r(".llms-num-reviews-bottom").show()):(r(".llms-num-reviews-top").removeClass("top"),r(".llms-num-reviews-bottom").hide())})}},LLMS.Spinner={get:function(t,e){var n=t.find(".llms-spinning").first();return n.length||(n=r('<div class="llms-spinning"><i class="llms-spinner '+(e=e||"default")+'"></i></div>'),t.append(n)),n},start:function(t,e){var n=this;t.each(function(){n.get(r(this),e).show()})},stop:function(t){var e=this;t.each(function(){e.get(r(this)).hide()})}},LLMS.Storage=function(i,t){var s=window.localStorage;function o(){return JSON.parse(s.getItem(i))||{}}this.clear=function(){s.removeItem(i)},this.get=function(t,e){var n=o();return n[t]?n[t]:e},this.set=function(t,e){var n=o();n[t]=e,s.setItem(i,JSON.stringify(n))}},LLMS.StudentDashboard={screen:"",meter_exists:0,init:function(){r(".llms-student-dashboard").length&&(this.meter_exists=r(".llms-password-strength-meter").length,this.bind(),"orders"===this.get_screen()&&this.bind_orders())},bind:function(){var a=this;r('.llms-student-dashboard a[href="#llms-password-change-toggle"]').on("click",function(t){t.preventDefault();var e=r(this),n=e.text(),i=e.attr("data-action"),s="hide"===i?"show":"hide",o=e.attr("data-text");a.password_toggle(i),"show"===i?e.attr("tabindex","-777"):e.removeAttr("tabindex"),e.attr("data-action",s).attr("data-text",n).text(o)}),this.meter_exists?r(".llms-person-form.edit-account").on("llms-password-strength-ready",function(){a.password_toggle("hide")}):a.password_toggle("hide"),r(".llms-donut").each(function(){LLMS.Donut(r(this))})},bind_orders:function(){r("#llms-cancel-subscription-form").on("submit",this.order_cancel_warning),r("#llms_update_payment_method").on("click",function(){r('input[name="llms_payment_gateway"]:checked').trigger("change"),r(this).closest("form").find(".llms-switch-payment-source-main").slideToggle("200")})},get_screen:function(){return this.screen||(this.screen=r(".llms-student-dashboard").attr("data-current")),this.screen},order_cancel_warning:function(t){t.preventDefault();var e=LLMS.l10n.translate("Are you sure you want to cancel your subscription?");window.confirm(LLMS.l10n.translate(e))&&(r(this).off("submit",this.order_cancel_warning),r(this).submit())},password_toggle:function(t){t||(t="show");var e=r("#password, #password_confirm, #current_password"),n=r("#password").closest("form");r(".llms-change-password")[t](),"show"===t?(e.attr("required","required"),this.meter_exists&&n.on("submit",LLMS.PasswordStrength,LLMS.PasswordStrength.submit)):(e.removeAttr("required").val(""),this.meter_exists&&(n.off("submit",LLMS.PasswordStrength.submit),LLMS.PasswordStrength.check_strength()))}},LLMS.Tracking=function(){var i=this,s=new LLMS.Storage("llms-tracking");function t(t){document.removeEventListener("visibilitychange",n)}function e(t){i.addEvent("page.exit")}function n(t){var e=document.hidden?"page.blur":"page.focus";i.addEvent(e)}this.addEvent=function(t,e){t="string"==typeof t?i.makeEventObj(t,e):t;var n=s.get("events",[]);n.push(t),s.set("events",n)},this.makeEventObj=function(t,e){return{obj_id:e,url:window.location.href,event:t,time:(new Date).getTime()/1e3}},console.log(s.get("events")),i.addEvent("page.load"),window.addEventListener("beforeunload",t),window.addEventListener("unload",e),document.addEventListener("visibilitychange",n)},window.llms=window.llms||{},llms.tracking=new LLMS.Tracking,LLMS.Rest={init:function(){this.bind()},bind:function(){},is_path:function(t){for(var e=!1,n=window.location.href,i=0;i<t.length;i++)0<n.search(t[i])&&!e&&(e=!0);return e},get_query_vars:function(){for(var t,e=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),i=0;i<n.length;i++)t=n[i].split("="),e.push(t[0]),e[t[0]]=t[1];return e}},LLMS.init=function(){for(var t in LLMS)"object"==typeof LLMS[t]&&null!==LLMS[t]&&void 0!==LLMS[t].init&&"function"==typeof LLMS[t].init&&LLMS[t].init()},LLMS.is_touch_device=function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var e,n=["(",t.join("touch-enabled),("),"heartz",")"].join("");return e=n,window.matchMedia(e).matches},LLMS.wait_for_matchHeight=function(t){this.wait_for(function(){return void 0!==r.fn.matchHeight},t)},LLMS.wait_for_popover=function(t){this.wait_for(function(){return void 0!==r.fn.webuiPopover},t)},LLMS.wait_for=function(t,e){var n,i=0;n=setInterval(function(){if(300<=i)console.log("could not load dependency");else{if(!t())return console.log("waiting..."),void i++;e()}clearInterval(n)},100)},LLMS.init(r)}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxsbXMuanMiXSwibmFtZXMiOlsiTExNUyIsIndpbmRvdyIsIiQiLCJBY2hpZXZlbWVudHMiLCJpbml0Iiwic2VsZiIsInRoaXMiLCJkb2N1bWVudCIsIm9uIiwiYmluZCIsIm1heWJlX29wZW4iLCJlYWNoIiwiY3JlYXRlX21vZGFsIiwiJHRoaXMiLCJpZCIsImF0dHIiLCIkbW9kYWwiLCJsZW5ndGgiLCJpemlNb2RhbCIsIiRlbCIsImFwcGVuZCIsImhlYWRlckNvbG9yIiwiZ3JvdXAiLCJoaXN0b3J5IiwibG9vcCIsIm92ZXJsYXlDb2xvciIsInRyYW5zaXRpb25JbiIsInRyYW5zaXRpb25PdXQiLCJ3aWR0aCIsIm9uT3BlbmluZyIsIm1vZGFsIiwic2V0VGl0bGUiLCJmaW5kIiwiaHRtbCIsInNldFN1YnRpdGxlIiwic2V0Q29udGVudCIsIm9uQ2xvc2luZyIsInB1c2hTdGF0ZSIsInRpdGxlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsInNlYXJjaCIsImhhc2giLCJpbmRleE9mIiwiZmlyc3QiLCJ0cmlnZ2VyIiwiQWpheCIsInVybCIsImFqYXh1cmwiLCJsbG1zIiwidHlwZSIsImRhdGEiLCJjYWNoZSIsImRhdGFUeXBlIiwiYXN5bmMiLCJyZXNwb25zZSIsIm9iaiIsIl9hamF4X25vbmNlIiwid3BfYWpheF9kYXRhIiwibm9uY2UiLCJxdWVyeV92YXJzIiwiUmVzdCIsImdldF9xdWVyeV92YXJzIiwicG9zdF9pZCIsInBvc3QiLCJ2YWwiLCJjYWxsIiwic2V0dGluZ3MiLCJyZXF1ZXN0IiwiYWpheCIsIkRvbnV0Iiwib3B0aW9ucyIsImV4dGVuZCIsImVsZW1lbnQiLCJwZXJjZW50IiwiY2lyY2xlIiwic3Ryb2tlX3dpZHRoIiwicGFyc2VJbnQiLCJjc3MiLCJyYWRpdXMiLCJhbmdsZSIsImkiLCJNYXRoIiwicm91bmQiLCJhbmltYXRlIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImQiLCJyYWRpYW5zIiwiUEkiLCJ4IiwiY29zIiwieSIsInNpbiIsImNsZWFySW50ZXJ2YWwiLCJJbnN0cnVjdG9ycyIsImhhc0NsYXNzIiwid2FpdF9mb3JfbWF0Y2hIZWlnaHQiLCJtYXRjaEhlaWdodCIsImwxMG4iLCJ0cmFuc2xhdGUiLCJzdHJpbmciLCJzdHJpbmdzIiwicmVwbGFjZSIsInJlcGxhY2VtZW50cyIsInN0ciIsInRva2VuIiwidmFsdWUiLCJ0b1N0cmluZyIsIkxlc3NvblByZXZpZXciLCIkZWxzIiwiJGxvY2tlZCIsIm1hdGNoX2hlaWdodCIsIiR0aXAiLCJtc2ciLCJnZXRfdG9vbHRpcCIsInNldFRpbWVvdXQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiTG9vcHMiLCJPdXRsaW5lQ29sbGFwc2UiLCIkb3V0bGluZXMiLCIkb3V0bGluZSIsIiRoZWFkZXJzIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHNlY3Rpb24iLCJjbG9zZXN0IiwiZ2V0X3NlY3Rpb25fc3RhdGUiLCJvcGVuX3NlY3Rpb24iLCJjbG9zZV9zZWN0aW9uIiwib3Bwb3NpdGVfYWN0aW9uIiwic3RhdGUiLCJQYXNzd29yZFN0cmVuZ3RoIiwiJHBhc3MiLCIkY29uZiIsIiRtZXRlciIsIiRmb3JtIiwiaW50ZXJ2YWwiLCJjb3VudGVyIiwiY29uc29sZSIsImxvZyIsIndwIiwicGFzc3dvcmRTdHJlbmd0aCIsInN1Ym1pdCIsImFkZCIsImNoZWNrX3N0cmVuZ3RoIiwiJHBhc3NfZmllbGQiLCIkY29uZl9maWVsZCIsInBhc3NfbGVuZ3RoIiwiY29uZl9sZW5ndGgiLCJoaWRlIiwiZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzIiwic2hvdyIsImdldF9jdXJyZW50X3N0cmVuZ3RoIiwiY2hlY2tvdXQiLCJjYWxsYmFjayIsImdldF9ibGFja2xpc3QiLCJ1c2VySW5wdXRCbGFja2xpc3QiLCJmb3JtYXQiLCJwYXNzIiwiY29uZiIsIm1ldGVyIiwiZ2V0X3N0cmVuZ3RoX3NsdWciLCJnZXRfc3RyZW5ndGhfdGV4dCIsImN1cnIiLCJtaW4iLCJnZXRfc3RyZW5ndGhfdmFsdWUiLCJnZXRfbWluaW11bV9zdHJlbmd0aCIsInN0cmVuZ3RoX3ZhbCIsInNsdWdzIiwiLTEiLCIxIiwiMiIsIjMiLCI0IiwiNSIsInRleHRzIiwic3RyZW5ndGhfc2x1ZyIsInZhbHVlcyIsInRvby1zaG9ydCIsInZlcnktd2VhayIsIndlYWsiLCJtZWRpdW0iLCJzdHJvbmciLCJtaXNtYXRjaCIsIm9mZiIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsImZhZGVJbiIsIlByaWNpbmdfVGFibGVzIiwid2FpdF9mb3JfcG9wb3ZlciIsImJpbmRfbG9ja2VkIiwid2VidWlQb3BvdmVyIiwiYW5pbWF0aW9uIiwiY2xvc2VhYmxlIiwiY29udGVudCIsIiRjb250ZW50IiwiJGVsZW1lbnQiLCJjbG9uZSIsInBsYWNlbWVudCIsInN0eWxlIiwiUmV2aWV3IiwiY2xpY2siLCJqUXVlcnkiLCJhY3Rpb24iLCJyZXZpZXdfdGl0bGUiLCJyZXZpZXdfdGV4dCIsInBhZ2VJRCIsInN1Y2Nlc3MiLCJlcnJvciIsImpxWEhSIiwidGV4dFN0YXR1cyIsImVycm9yVGhyb3duIiwiY2hhbmdlIiwiU3Bpbm5lciIsImdldCIsInNpemUiLCIkc3Bpbm5lciIsInN0YXJ0Iiwic3RvcCIsIlN0b3JhZ2UiLCJwZXJzaXN0Iiwic3RvcmUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRBbGwiLCJKU09OIiwicGFyc2UiLCJnZXRJdGVtIiwiY2xlYXIiLCJyZW1vdmVJdGVtIiwia2V5IiwiZGVmYXVsdF92YWwiLCJzZXQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiU3R1ZGVudERhc2hib2FyZCIsInNjcmVlbiIsIm1ldGVyX2V4aXN0cyIsImdldF9zY3JlZW4iLCJiaW5kX29yZGVycyIsImN1cnJfdGV4dCIsInRleHQiLCJjdXJyX2FjdGlvbiIsIm5ld19hY3Rpb24iLCJuZXdfdGV4dCIsInBhc3N3b3JkX3RvZ2dsZSIsInJlbW92ZUF0dHIiLCJvcmRlcl9jYW5jZWxfd2FybmluZyIsInNsaWRlVG9nZ2xlIiwiY29uZmlybSIsIiRwd2RzIiwiVHJhY2tpbmciLCJvbkJlZm9yZVVubG9hZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvblZpc2liaWxpdHlDaGFuZ2UiLCJvblVubG9hZCIsImFkZEV2ZW50IiwiZXZlbnQiLCJoaWRkZW4iLCJvYmpfaWQiLCJtYWtlRXZlbnRPYmoiLCJhbGwiLCJwdXNoIiwiaHJlZiIsInRpbWUiLCJEYXRlIiwiZ2V0VGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0cmFja2luZyIsImlzX3BhdGgiLCJwYXRoX2V4aXN0cyIsInZhcnMiLCJoYXNoZXMiLCJzbGljZSIsInNwbGl0IiwiZnVuYyIsInVuZGVmaW5lZCIsImlzX3RvdWNoX2RldmljZSIsInByZWZpeGVzIiwiRG9jdW1lbnRUb3VjaCIsInF1ZXJ5Iiwiam9pbiIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwiY2IiLCJ3YWl0X2ZvciIsImZuIiwidGVzdCJdLCJtYXBwaW5ncyI6IkFBZ0JBLElBQUlBLEtBQU9DLE9BQU9ELE1BQVEsSUFDMUIsU0FBVUUsR0FFVCxhQWNBRixLQUFLRyxhQUFlLENBUW5CQyxLQUFNLFdBRUwsSUFBSUMsRUFBT0MsS0FFTkosRUFBRyxzQkFDUEEsRUFBR0ssVUFBV0MsR0FBSSxRQUFTLFdBQzFCSCxFQUFLSSxPQUNMSixFQUFLSyxnQkFZUkQsS0FBTSxXQUVMLElBQUlKLEVBQU9DLEtBRVhKLEVBQUcscUJBQXNCUyxLQUFNLFdBRTlCTixFQUFLTyxhQUFjVixFQUFHSSxTQUl2QkosRUFBRyxxQkFBc0JNLEdBQUksUUFBUyxXQUVyQyxJQUFJSyxFQUFRWCxFQUFHSSxNQUNkUSxFQUFLLGVBQWlCRCxFQUFNRSxLQUFNLFdBQ2xDQyxFQUFTZCxFQUFHLElBQU1ZLEdBRWJFLEVBQU9DLFFBQ1paLEVBQUtPLGFBQWNDLEdBR3BCRyxFQUFPRSxTQUFVLFdBYW5CTixhQUFjLFNBQVVPLEdBRXZCLElBQUlMLEVBQUssZUFBaUJLLEVBQUlKLEtBQU0sV0FDbkNDLEVBQVNkLEVBQUcsSUFBTVksR0FFYkUsRUFBT0MsU0FDWkQsRUFBU2QsRUFBRywyQ0FBNkNZLEVBQUssUUFDOURaLEVBQUcsUUFBU2tCLE9BQVFKLElBR3JCQSxFQUFPRSxTQUFVLENBQ2hCRyxZQUFhLFVBQ2JDLE1BQU8sZUFDUEMsU0FBUyxFQUNUQyxNQUFNLEVBQ05DLGFBQWMsdUJBQ2RDLGFBQWMsYUFDZEMsY0FBZSxjQUNmQyxNQUFPLElBQ1BDLFVBQVcsU0FBVUMsR0FFcEJBLEVBQU1DLFNBQVVaLEVBQUlhLEtBQU0sMkJBQTRCQyxRQUN0REgsRUFBTUksWUFBYWYsRUFBSWEsS0FBTSwwQkFBMkJDLFFBQ3hESCxFQUFNSyxXQUFZLGlDQUFtQ2hCLEVBQUljLE9BQVMsV0FJbkVHLFVBQVcsV0FDVm5DLE9BQU9zQixRQUFRYyxVQUFXLEdBQUk5QixTQUFTK0IsTUFBT3JDLE9BQU9zQyxTQUFTQyxTQUFXdkMsT0FBT3NDLFNBQVNFLFlBYTVGL0IsV0FBWSxXQUVYLElBQUlnQyxFQUFPekMsT0FBT3NDLFNBQVNHLEtBQ3RCQSxJQUFTLElBQU1BLEVBQUtDLFFBQVMsaUJBQ2pDekMsRUFBRyxXQUFhd0MsRUFBTyxNQUFNRSxRQUFRQyxRQUFTLFdBZWpEN0MsS0FBSzhDLEtBQU8sQ0FNWEMsSUFBSzlDLE9BQU8rQyxTQUFXL0MsT0FBT2dELEtBQUtELFFBTW5DRSxLQUFNLE9BTU5DLEtBQU0sR0FNTkMsT0FBTyxFQU9QQyxTQUFVLE9BT1ZDLE9BQU8sRUFFUEMsU0FBUyxHQU1UbkQsS0FBTSxTQUFTb0QsR0FHZCxHQUFZLE9BQVJBLEdBQStCLGlCQUFSQSxFQUMxQixPQUFPLEVBSVJBLEVBQUlULElBQVEsUUFBaUJTLEVBQU1BLEVBQUlULElBQWF6QyxLQUFLeUMsSUFDekRTLEVBQUlOLEtBQVMsU0FBWU0sRUFBTUEsRUFBSU4sS0FBUzVDLEtBQUs0QyxLQUNqRE0sRUFBSUwsS0FBUyxTQUFZSyxFQUFNQSxFQUFJTCxLQUFTN0MsS0FBSzZDLEtBQ2pESyxFQUFJSixNQUFVLFVBQWFJLEVBQU1BLEVBQUlKLE1BQVU5QyxLQUFLOEMsTUFDcERJLEVBQUlILFNBQVksYUFBY0csRUFBTUEsRUFBSUgsU0FBWS9DLEtBQUsrQyxTQUN6REcsRUFBSUYsTUFBVSxVQUFZRSxFQUFNQSxFQUFJRixNQUFVaEQsS0FBS2dELE1BR25ERSxFQUFJTCxLQUFLTSxZQUFjQyxhQUFhQyxNQUdwQyxJQUNBQyxFQURTNUQsS0FBSzZELEtBQ0VDLGlCQU1oQixPQUxBTixFQUFJTCxLQUFLWSxRQUFVLFNBQVVILEVBQWFBLEVBQVdJLEtBQU8sTUFDdERSLEVBQUlMLEtBQUtZLFNBQVc3RCxFQUFHLGlCQUFrQmUsU0FDOUN1QyxFQUFJTCxLQUFLWSxRQUFVN0QsRUFBRyxpQkFBa0IrRCxPQUdsQ1QsR0FVUlUsS0FBTSxTQUFTVixHQUdkLElBQUlXLEVBQVc3RCxLQUFLRixLQUFLb0QsR0FHekIsUUFBS1csSUFHSjdELEtBQUs4RCxRQUFRRCxHQUdQN0QsT0FRUjhELFFBQVMsU0FBU0QsR0FJakIsT0FGQWpFLEVBQUVtRSxLQUFLRixHQUVBN0QsT0FnQlROLEtBQUtzRSxNQUFRLFNBQVVuRCxHQUV0QixTQUFTbUQsRUFBTUMsR0FFZGpFLEtBQUs2RCxTQUFXakUsRUFBRXNFLE9BQVEsQ0FDekJDLFFBQVNGLEVBQVFFLFFBQ2pCQyxRQUFTLEtBQ1BILEdBRUhqRSxLQUFLcUUsT0FBU3JFLEtBQUs2RCxTQUFTTSxRQUFRekMsS0FBTSxRQUMxQzFCLEtBQUs2RCxTQUFTUyxhQUFlQyxTQUFVdkUsS0FBS3FFLE9BQU9HLElBQUssaUJBQ3hEeEUsS0FBS3lFLFFBQVdGLFNBQVV2RSxLQUFLNkQsU0FBU00sUUFBUUssSUFBSyxVQUFjeEUsS0FBSzZELFNBQVNTLGNBQWlCLEVBQ2xHdEUsS0FBSzBFLE9BQVMsS0FDZDFFLEtBQUsyRSxFQUFJQyxLQUFLQyxNQUFPLElBQU83RSxLQUFLNkQsU0FBU08sU0FDMUNwRSxLQUFLc0MsT0FBUSxFQUVidEMsS0FBSzhFLFFBQVUsV0FDZDlFLEtBQUsrRSxNQUFRQyxZQUFhaEYsS0FBS2tCLEtBQUtmLEtBQU1ILE1BQVEsS0FHbkRBLEtBQUtrQixLQUFPLFdBQ1hsQixLQUFLMEUsT0FBUyxFQUNkMUUsS0FBSzBFLE9BQVMsSUFDZCxJQUdDTyxFQUhHQyxFQUFZbEYsS0FBSzBFLE1BQVEsSUFBUUUsS0FBS08sR0FDekNDLEVBQUlwRixLQUFLeUUsT0FBU3pFLEtBQUs2RCxTQUFTUyxhQUFlLEVBQUlNLEtBQUtTLElBQUtILEdBQVlsRixLQUFLeUUsT0FDOUVhLEVBQUl0RixLQUFLeUUsT0FBU3pFLEtBQUs2RCxTQUFTUyxhQUFlLEVBQUlNLEtBQUtXLElBQUtMLEdBQVlsRixLQUFLeUUsUUFFNUQsSUFBZnpFLEtBQUtzQyxPQUNSMkMsRUFBSWpGLEtBQUtxRSxPQUFPNUQsS0FBTSxLQUFRLE1BQVEyRSxFQUFJLElBQU1FLEVBQ2hEdEYsS0FBS3NDLE9BQVEsR0FFYjJDLEVBQUlqRixLQUFLcUUsT0FBTzVELEtBQU0sS0FBUSxNQUFRMkUsRUFBSSxJQUFNRSxFQUVqRHRGLEtBQUtxRSxPQUFPNUQsS0FBTSxJQUFLd0UsR0FDdkJqRixLQUFLMkUsSUFFRjNFLEtBQUsyRSxHQUFHLEdBQ1ZhLGNBQWN4RixLQUFLK0UsUUFLdEIsSUFBZWxFLEdBQUFBLEVBVVRBLEdBUkRDLE9BQVEsOEdBQ0EsSUFBSWtELEVBQU8sQ0FDdEJHLFFBQVN0RCxFQUNUdUQsUUFBU3ZELEVBQUlKLEtBQUssZUFFYnFFLFdBWVJwRixLQUFLK0YsWUFBYyxDQUtsQjNGLEtBQU0sV0FFTCxJQUFJQyxFQUFPQyxLQUVOSixFQUFHLFFBQVM4RixTQUFVLGFBSXRCOUYsRUFBRyxxQkFBc0JlLFFBRTdCakIsS0FBS2lHLHFCQUFzQixXQUMxQjVGLEVBQUtJLFVBWVJBLEtBQU0sV0FFTFAsRUFBRyxrQ0FBbUNnRyxnQkFtQnhDbEcsS0FBS21HLEtBQU9uRyxLQUFLbUcsTUFBUSxHQUV6Qm5HLEtBQUttRyxLQUFLQyxVQUFZLFNBQVdDLEdBSWhDLE9BRlcvRixLQUVEZ0csUUFBUUQsR0FGUC9GLEtBSUVnRyxRQUFRRCxHQUliQSxHQXFCVHJHLEtBQUttRyxLQUFLSSxRQUFVLFNBQVVGLEVBQVFHLEdBRXJDLElBQUlDLEVBQU1uRyxLQUFLOEYsVUFBV0MsR0FjMUIsT0FaQW5HLEVBQUVTLEtBQU02RixFQUFjLFNBQVVFLEVBQU9DLElBRWhDLElBQU1ELEVBQU0vRCxRQUFTLEtBQzFCZ0UsRUFBUUEsRUFBTUMsWUFDRixJQUFNRixFQUFNL0QsUUFBUyxPQUNqQ2dFLEdBQWdCLEdBR2pCRixFQUFNQSxFQUFJRixRQUFTRyxFQUFPQyxLQUlwQkYsR0FXUnpHLEtBQUs2RyxjQUFnQixDQU1wQkMsS0FBTSxLQU1OMUcsS0FBTSxXQUVMLElBQUlDLEVBQU9DLEtBRVhBLEtBQUt5RyxRQUFVN0csRUFBRyxpQ0FFYkksS0FBS3lHLFFBQVE5RixRQUVqQlosRUFBS0ksT0FJRFAsRUFBRywyQkFBNEJlLFFBRW5DakIsS0FBS2lHLHFCQUFzQixXQUUxQjVGLEVBQUsyRyxrQkFjUnZHLEtBQU0sV0FFTCxJQUFJSixFQUFPQyxLQUVYQSxLQUFLeUcsUUFBUXZHLEdBQUksUUFBUyxXQUN6QixPQUFPLElBR1JGLEtBQUt5RyxRQUFRdkcsR0FBSSxhQUFjLFdBRTlCLElBQUl5RyxFQUFPL0csRUFBR0ksTUFBTzBCLEtBQU0saUJBQzNCLElBQU1pRixFQUFLaEcsT0FBUyxDQUNuQixJQUFJaUcsRUFBTWhILEVBQUdJLE1BQU9TLEtBQU0sb0JBQ3BCbUcsSUFDTEEsRUFBTWxILEtBQUttRyxLQUFLQyxVQUFXLHNEQUU1QmEsRUFBTzVHLEVBQUs4RyxZQUFhRCxHQUN6QmhILEVBQUdJLE1BQU9jLE9BQVE2RixHQUVuQkcsV0FBWSxXQUNYSCxFQUFLSSxTQUFVLFNBQ2IsTUFJSi9HLEtBQUt5RyxRQUFRdkcsR0FBSSxhQUFjLFdBRW5CTixFQUFHSSxNQUFPMEIsS0FBTSxpQkFDdEJzRixZQUFhLFdBWXBCTixhQUFjLFdBRWI5RyxFQUFHLDZDQUE4Q2dHLGVBV2xEaUIsWUFBYSxTQUFVRCxHQUN0QixJQUFJL0YsRUFBTWpCLEVBQUcsZ0NBRWIsT0FEQWlCLEVBQUlDLE9BQVEscUNBQXVDOEYsRUFBTSxVQUNsRC9GLElBWVRuQixLQUFLdUgsTUFBUSxDQU1abkgsS0FBTSxXQUVMLElBQUlDLEVBQU9DLEtBRU5KLEVBQUcsY0FBZWUsUUFFdEJqQixLQUFLaUcscUJBQXNCLFdBRTFCNUYsRUFBSzJHLGtCQWNSQSxhQUFjLFdBRWI5RyxFQUFHLDJDQUE0Q2dHLGNBQy9DaEcsRUFBRyxpREFBa0RnRyxjQUNyRGhHLEVBQUcsaURBQWtEZ0csZ0JBV3ZEbEcsS0FBS3dILGdCQUFrQixDQU10QkMsVUFBVyxLQU1YckgsS0FBTSxXQUVMRSxLQUFLbUgsVUFBWXZILEVBQUcsc0NBRWZJLEtBQUttSCxVQUFVeEcsUUFFbkJYLEtBQUtHLFFBVVBBLEtBQU0sV0FFTCxJQUFJSixFQUFPQyxLQUVYQSxLQUFLbUgsVUFBVTlHLEtBQU0sV0FFcEIsSUFBSStHLEVBQVd4SCxFQUFHSSxNQUNqQnFILEVBQVdELEVBQVMxRixLQUFNLGlDQUczQjJGLEVBQVNuSCxHQUFJLFFBQVMsU0FBVW9ILEdBRS9CQSxFQUFFQyxpQkFFRixJQUNDQyxFQURhNUgsRUFBR0ksTUFDR3lILFFBQVMsaUJBRzdCLE9BRlMxSCxFQUFLMkgsa0JBQW1CRixJQUloQyxJQUFLLFNBQ0p6SCxFQUFLNEgsYUFBY0gsR0FDcEIsTUFFQSxJQUFLLFNBQ0p6SCxFQUFLNkgsY0FBZUosTUFRdkJKLEVBQVMxRixLQUFNLHlCQUEwQnhCLEdBQUksUUFBUyxTQUFVb0gsR0FFL0RBLEVBQUVDLGlCQUVGLElBRUNNLEVBQW9CLFVBRlZqSSxFQUFHSSxNQUNDUyxLQUFNLGVBQ3VCLFNBQVcsU0FFdkQ0RyxFQUFTaEgsS0FBTSxXQUVkLElBQUltSCxFQUFXNUgsRUFBR0ksTUFBT3lILFFBQVMsaUJBQ2pDSyxFQUFRL0gsRUFBSzJILGtCQUFtQkYsR0FFakMsR0FBS0ssSUFBb0JDLEVBQ3hCLE9BQU8sRUFHUixPQUFRQSxHQUVQLElBQUssU0FDSi9ILEVBQUs2SCxjQUFlSixHQUNyQixNQUVBLElBQUssU0FDSnpILEVBQUs0SCxhQUFjSCxHQUtyQjVILEVBQUdJLE1BQU91QyxRQUFTLGdCQWV2QnFGLGNBQWUsU0FBVUosR0FFeEJBLEVBQVNSLFlBQWEsd0JBQXlCRCxTQUFVLHlCQVMxRFksYUFBYyxTQUFVSCxHQUV2QkEsRUFBU1IsWUFBYSx3QkFBeUJELFNBQVUseUJBUzFEVyxrQkFBbUIsU0FBVUYsR0FFNUIsT0FBT0EsRUFBUzlCLFNBQVUsd0JBQTJCLFNBQVcsV0FlbEU5RixFQUFFc0UsT0FBUXhFLEtBQUtxSSxpQkFBa0IsQ0FFaENDLE1BQU9wSSxFQUFHLGtCQUNWcUksTUFBT3JJLEVBQUcsMEJBQ1ZzSSxPQUFRdEksRUFBRyxpQ0FDWHVJLE1BQU8sS0FRUHJJLEtBQU0sV0FFTCxJQUFLRixFQUFHLFFBQVM4RixTQUFVLGFBSXRCMUYsS0FBS2tJLE9BQU92SCxPQUFTLENBRXpCWCxLQUFLbUksTUFBUW5JLEtBQUtnSSxNQUFNUCxRQUFTLFFBS2pDLElBRUNXLEVBRkdySSxFQUFPQyxLQUNWcUksRUFBVSxFQUdYRCxFQUFXcEQsWUFBYSxXQUl2QixHQUFnQixLQUFYcUQsRUFFSkMsUUFBUUMsSUFBSywwQ0FHUCxDQUFBLEdBQUssb0JBQXVCQyxTQUFNLElBQXVCQSxHQUFHQyxpQkFHbEUsWUFEQUosSUFNQXRJLEVBQUtJLE9BQ0xKLEVBQUtvSSxNQUFNNUYsUUFBUyxnQ0FJckJpRCxjQUFlNEMsSUFFYixPQVlMakksS0FBTSxXQUVMLElBQUlKLEVBQU9DLEtBR0xBLEtBQUttSSxNQUFNekMsU0FBVSxrQkFDMUIxRixLQUFLbUksTUFBTWpJLEdBQUksU0FBVUgsRUFBTUEsRUFBSzJJLFFBSXJDM0ksRUFBS2lJLE1BQU1XLElBQUs1SSxFQUFLa0ksT0FBUS9ILEdBQUksUUFBUyxXQUN6Q0gsRUFBSzZJLG9CQVlQQSxlQUFnQixXQUVmLElBQUlDLEVBQWM3SSxLQUFLZ0ksTUFBTVAsUUFBUyxvQkFDckNxQixFQUFjOUksS0FBS2lJLE1BQU1SLFFBQVMsb0JBQ2xDc0IsRUFBYy9JLEtBQUtnSSxNQUFNckUsTUFBTWhELE9BQy9CcUksRUFBY2hKLEtBQUtpSSxNQUFNdEUsTUFBTWhELE9BR2hDLElBQU1vSSxJQUFnQkMsRUFJckIsT0FIQUgsRUFBWTdCLFlBQWEsaUJBQ3pCOEIsRUFBWTlCLFlBQWEsc0JBQ3pCaEgsS0FBS2tJLE9BQU9lLE9BSVJqSixLQUFLa0osK0JBQ1RMLEVBQVk3QixZQUFhLFdBQVlELFNBQVUsU0FDMUNpQyxHQUNKRixFQUFZOUIsWUFBYSxXQUFZRCxTQUFVLFdBR2hEOEIsRUFBWTdCLFlBQWEsU0FBVUQsU0FBVSxXQUN4Q2lDLEdBQ0pGLEVBQVk5QixZQUFhLFNBQVVELFNBQVUsWUFJL0MvRyxLQUFLa0ksT0FBT2xCLFlBQWEsbURBQ3pCaEgsS0FBS2tJLE9BQU9pQixPQUFPcEMsU0FBVS9HLEtBQUtvSixxQkFBc0IsU0FDeERwSixLQUFLa0ksT0FBT3ZHLEtBQU0zQixLQUFLb0oscUJBQXNCLFVBWTlDQyxTQUFVLFNBQVV0SixFQUFNdUosR0FFcEJ2SixFQUFLbUosOEJBRVRJLEdBQVUsR0FJVkEsRUFBVTVKLEtBQUttRyxLQUFLQyxVQUFXLGtEQVlqQ3lELGNBQWUsV0FFZCxPQURnQmYsR0FBR0MsaUJBQWlCZSxzQkFXckNKLHFCQUFzQixTQUFVSyxHQUUvQkEsRUFBU0EsR0FBVSxNQUNuQixJQUVDOUYsRUFGRytGLEVBQU8xSixLQUFLZ0ksTUFBTXJFLE1BQ3JCZ0csRUFBTzNKLEtBQUtpSSxNQUFNdEUsTUFjbkIsT0FWSytGLEVBQUsvSSxPQUFTLEVBQ2xCZ0QsR0FBTyxFQUlGLEtBRkxBLEVBQU02RSxHQUFHQyxpQkFBaUJtQixNQUFPRixFQUFNMUosS0FBS3VKLGdCQUFpQkksTUFHNURoRyxFQUFNLEdBSUgsU0FBVzhGLEVBQ1J6SixLQUFLNkosa0JBQW1CbEcsR0FDcEIsU0FBVzhGLEVBQ2Z6SixLQUFLOEosa0JBQW1CbkcsR0FFeEJBLEdBV1R1Riw0QkFBNkIsV0FDNUIsSUFBSWEsRUFBTy9KLEtBQUtvSix1QkFDZlksRUFBTWhLLEtBQUtpSyxtQkFBb0JqSyxLQUFLa0ssd0JBQ3JDLE9BQVMsSUFBTUgsR0FBMkJDLEdBQVJELEdBVW5DRixrQkFBbUIsU0FBVU0sR0FFNUIsSUFBSUMsRUFBUSxDQUNYQyxLQUFNLFlBQ05DLEVBQUcsWUFDSEMsRUFBRyxPQUNIQyxFQUFHLFNBQ0hDLEVBQUcsU0FDSEMsRUFBRyxZQUdKLE9BQVNOLEVBQU9ELEdBQW1CQyxFQUFPRCxHQUFpQkMsRUFBTSxJQVdsRU4sa0JBQW1CLFNBQVVLLEdBRTVCLElBQUlRLEVBQVEsQ0FDWE4sS0FBTTNLLEtBQUttRyxLQUFLQyxVQUFXLGFBQzNCd0UsRUFBRzVLLEtBQUttRyxLQUFLQyxVQUFXLGFBQ3hCeUUsRUFBRzdLLEtBQUttRyxLQUFLQyxVQUFXLFFBQ3hCMEUsRUFBRzlLLEtBQUttRyxLQUFLQyxVQUFXLFVBQ3hCMkUsRUFBRy9LLEtBQUttRyxLQUFLQyxVQUFXLFVBQ3hCNEUsRUFBR2hMLEtBQUttRyxLQUFLQyxVQUFXLGFBR3pCLE9BQVM2RSxFQUFPUixHQUFtQlEsRUFBT1IsR0FBaUJRLEVBQU0sSUFXbEVWLG1CQUFvQixTQUFVVyxHQUU3QixJQUFJQyxFQUFTLENBQ1pDLGFBQWMsRUFDZEMsWUFBYSxFQUNiQyxLQUFNLEVBQ05DLE9BQVEsRUFDUkMsT0FBUSxFQUNSQyxTQUFVLEdBR1gsT0FBU04sRUFBUUQsR0FBb0JDLEVBQVFELEdBQWtCQyxFQUFPTSxVQVd2RXpDLE9BQVEsU0FBVXBCLEdBRWpCLElBQUl2SCxFQUFPdUgsRUFBRXpFLEtBQ2J5RSxFQUFFQyxpQkFDRnhILEVBQUtpSSxNQUFNekYsUUFBUyxTQUVmeEMsRUFBS21KLCtCQUNUbkosRUFBS29JLE1BQU1pRCxJQUFLLFNBQVVyTCxFQUFLMkksUUFDL0IzSSxFQUFLb0ksTUFBTTVGLFFBQVMsWUFFcEIzQyxFQUFHLGNBQWVrRixRQUFTLENBQzFCdUcsVUFBV3RMLEVBQUttSSxPQUFPb0QsU0FBU0MsSUFBTSxLQUNwQyxLQUNIeEwsRUFBS21JLE9BQU9lLE9BQ1puQyxXQUFZLFdBQ1gvRyxFQUFLbUksT0FBT3NELE9BQVEsTUFDbEIsU0FXTjlMLEtBQUsrTCxlQUFpQixDQUtyQjNMLEtBQU0sV0FFTCxJQUFJQyxFQUFPQyxLQUVOSixFQUFHLFFBQVM4RixTQUFVLGFBSXRCOUYsRUFBRyxzQkFBdUJlLFNBRTlCakIsS0FBS2lHLHFCQUFzQixXQUMxQjVGLEVBQUtJLFNBR05ILEtBQUt5RyxRQUFVN0csRUFBRywrQkFFYkksS0FBS3lHLFFBQVE5RixRQUVqQmpCLEtBQUtnTSxpQkFBa0IsV0FDdEIzTCxFQUFLNEwsa0JBY1R4TCxLQUFNLFdBRUxQLEVBQUcsNkJBQThCZ0csY0FDakNoRyxFQUFHLG1DQUFvQ2dHLGVBVXhDK0YsWUFBYSxXQUVaM0wsS0FBS3lHLFFBQVFwRyxLQUFNLFdBRWxCVCxFQUFHSSxNQUFPNEwsYUFBYyxDQUN2QkMsVUFBVyxNQUNYQyxXQUFXLEVBQ1hDLFFBQVMsU0FBVXpFLEdBQ2xCLElBQUkwRSxFQUFXcE0sRUFBRyxrREFFbEIsT0FEQW9NLEVBQVNsTCxPQUFRd0csRUFBRTJFLFNBQVN4RSxRQUFTLHFCQUFzQi9GLEtBQU0scUNBQXNDd0ssU0FDaEdGLEdBRVJHLFVBQVcsTUFDWEMsTUFBTyxVQUNQcEssTUFBT3RDLEtBQUttRyxLQUFLQyxVQUFXLHdCQUM1QnhFLE1BQU8sY0FhWDVCLEtBQUsyTSxPQUFTLENBS2J2TSxLQUFNLFdBR0xFLEtBQUtHLFFBTU5BLEtBQU0sV0FFTFAsRUFBRSw4QkFBOEIwTSxNQUFNLFdBRUosS0FBN0IxTSxFQUFFLGlCQUFpQitELE9BQTRDLEtBQTVCL0QsRUFBRSxnQkFBZ0IrRCxNQUV4RDRJLE9BQU94SSxLQUFLLENBQ0ZuQixLQUFPLE9BQ1BHLFNBQVcsT0FDWE4sSUFBTTlDLE9BQU9nRCxLQUFLRCxRQUNsQkcsS0FBTyxDQUNOMkosT0FBUyxtQkFDTkMsYUFBYzdNLEVBQUUsaUJBQWlCK0QsTUFDakMrSSxZQUFhOU0sRUFBRSxnQkFBZ0IrRCxNQUMvQmdKLE9BQVMvTSxFQUFFLFlBQVkrRCxPQUUzQmlKLFFBQVMsV0FFTHRFLFFBQVFDLElBQUksa0JBQ1ozSSxFQUFFLGVBQWVxSixLQUFLLFNBQ3RCckosRUFBRSxrQkFBa0J1SixLQUFLLFVBRTdCMEQsTUFBTyxTQUFTQyxFQUFPQyxFQUFZQyxHQUUvQjFFLFFBQVFDLElBQUl1RSxHQUNaeEUsUUFBUUMsSUFBSXdFLEdBQ1p6RSxRQUFRQyxJQUFJeUUsT0FJTyxLQUE3QnBOLEVBQUUsaUJBQWlCK0QsTUFFdEIvRCxFQUFFLHVCQUF1QnVKLEtBQUssU0FFOUJ2SixFQUFFLHVCQUF1QnFKLEtBQUssU0FFQyxLQUE1QnJKLEVBQUUsZ0JBQWdCK0QsTUFFckIvRCxFQUFFLHNCQUFzQnVKLEtBQUssU0FFN0J2SixFQUFFLHNCQUFzQnFKLEtBQUssWUFJM0JySixFQUFFLDBCQUEwQmEsS0FBSyxZQUNyQ2IsRUFBRSx5QkFBeUJtSCxTQUFTLE9BQ3BDbkgsRUFBRSw0QkFBNEJ1SixRQUc5QnZKLEVBQUUsNEJBQTRCcUosT0FFL0JySixFQUFFLDBCQUEwQnFOLE9BQU8sV0FDN0JyTixFQUFFLDBCQUEwQmEsS0FBSyxZQUNyQ2IsRUFBRSx5QkFBeUJtSCxTQUFTLE9BQ3BDbkgsRUFBRSw0QkFBNEJ1SixTQUU5QnZKLEVBQUUseUJBQXlCb0gsWUFBWSxPQUN2Q3BILEVBQUUsNEJBQTRCcUosWUFjbEN2SixLQUFLd04sUUFBVSxDQVlkQyxJQUFLLFNBQVV0TSxFQUFLdU0sR0FHbkIsSUFBSUMsRUFBV3hNLEVBQUlhLEtBQU0sa0JBQW1CWSxRQWdCNUMsT0FiTStLLEVBQVMxTSxTQUtkME0sRUFBV3pOLEVBQUcsc0RBSGR3TixFQUFPLEdBQWtCLFdBR21ELGdCQUc1RXZNLEVBQUlDLE9BQVF1TSxJQUtOQSxHQWVSQyxNQUFPLFNBQVV6TSxFQUFLdU0sR0FFckIsSUFBSXJOLEVBQU9DLEtBRVhhLEVBQUlSLEtBQU0sV0FFVE4sRUFBS29OLElBQUt2TixFQUFHSSxNQUFRb04sR0FBT2pFLFVBYTlCb0UsS0FBTSxTQUFVMU0sR0FFZixJQUFJZCxFQUFPQyxLQUVYYSxFQUFJUixLQUFNLFdBRVROLEVBQUtvTixJQUFLdk4sRUFBR0ksT0FBU2lKLFdBaUJ6QnZKLEtBQUs4TixRQUFVLFNBQVV4TSxFQUFPeU0sR0FFL0IsSUFBSUMsRUFBUS9OLE9BQU9nTyxhQVNuQixTQUFTQyxJQUNSLE9BQU9DLEtBQUtDLE1BQU9KLEVBQU1LLFFBQVMvTSxLQUFhLEdBVWhEaEIsS0FBS2dPLE1BQVEsV0FDWk4sRUFBTU8sV0FBWWpOLElBWW5CaEIsS0FBS21OLElBQU0sU0FBVWUsRUFBS0MsR0FDekIsSUFBSXRMLEVBQU8rSyxJQUNYLE9BQU8vSyxFQUFNcUwsR0FBUXJMLEVBQU1xTCxHQUFRQyxHQVlwQ25PLEtBQUtvTyxJQUFNLFNBQVVGLEVBQUt2SyxHQUN6QixJQUFJZCxFQUFPK0ssSUFDWC9LLEVBQU1xTCxHQUFRdkssRUFDZCtKLEVBQU1XLFFBQVNyTixFQUFPNk0sS0FBS1MsVUFBV3pMLE1BYXhDbkQsS0FBSzZPLGlCQUFtQixDQU12QkMsT0FBUSxHQVFSQyxhQUFjLEVBUWQzTyxLQUFNLFdBRUFGLEVBQUcsMkJBQTRCZSxTQUVuQ1gsS0FBS3lPLGFBQWU3TyxFQUFHLGlDQUFrQ2UsT0FDekRYLEtBQUtHLE9BRUEsV0FBYUgsS0FBSzBPLGNBRXRCMU8sS0FBSzJPLGdCQWNSeE8sS0FBTSxXQUVMLElBQUlKLEVBQU9DLEtBQ0FKLEVBQUcsa0VBR05NLEdBQUksUUFBUyxTQUFVb0gsR0FFOUJBLEVBQUVDLGlCQUVGLElBQUloSCxFQUFRWCxFQUFHSSxNQUNkNE8sRUFBWXJPLEVBQU1zTyxPQUNsQkMsRUFBY3ZPLEVBQU1FLEtBQU0sZUFDMUJzTyxFQUFhLFNBQVdELEVBQWMsT0FBUyxPQUMvQ0UsRUFBV3pPLEVBQU1FLEtBQU0sYUFFeEJWLEVBQUtrUCxnQkFBaUJILEdBSWpCLFNBQVdBLEVBQ2Z2TyxFQUFNRSxLQUFNLFdBQVksUUFFeEJGLEVBQU0yTyxXQUFZLFlBR25CM08sRUFBTUUsS0FBTSxjQUFlc08sR0FBYXRPLEtBQU0sWUFBYW1PLEdBQVlDLEtBQU1HLEtBT3pFaFAsS0FBS3lPLGFBRVQ3TyxFQUFHLGtDQUFtQ00sR0FBSSwrQkFBZ0MsV0FDekVILEVBQUtrUCxnQkFBaUIsVUFLdkJsUCxFQUFLa1AsZ0JBQWlCLFFBSXZCclAsRUFBRyxlQUFnQlMsS0FBTSxXQUN4QlgsS0FBS3NFLE1BQU9wRSxFQUFHSSxVQVdqQjJPLFlBQWEsV0FFWi9PLEVBQUcsa0NBQW1DTSxHQUFJLFNBQVVGLEtBQUttUCxzQkFDekR2UCxFQUFHLCtCQUFnQ00sR0FBSSxRQUFTLFdBQy9DTixFQUFHLDhDQUErQzJDLFFBQVMsVUFDM0QzQyxFQUFHSSxNQUFPeUgsUUFBUyxRQUFTL0YsS0FBTSxvQ0FBcUMwTixZQUFhLFVBV3RGVixXQUFZLFdBSVgsT0FITTFPLEtBQUt3TyxTQUNWeE8sS0FBS3dPLE9BQVM1TyxFQUFHLDJCQUE0QmEsS0FBTSxpQkFFN0NULEtBQUt3TyxRQVViVyxxQkFBc0IsU0FBVTdILEdBQy9CQSxFQUFFQyxpQkFDRixJQUFJWCxFQUFNbEgsS0FBS21HLEtBQUtDLFVBQVcsc0RBQzFCbkcsT0FBTzBQLFFBQVMzUCxLQUFLbUcsS0FBS0MsVUFBV2MsTUFDekNoSCxFQUFHSSxNQUFPb0wsSUFBSyxTQUFVcEwsS0FBS21QLHNCQUM5QnZQLEVBQUdJLE1BQU8wSSxXQVdadUcsZ0JBQWlCLFNBQVV6QyxHQUVwQkEsSUFDTEEsRUFBUyxRQUdWLElBQ0M4QyxFQUFRMVAsRUFBRyxtREFDWHVJLEVBQVF2SSxFQUFHLGFBQWM2SCxRQUFTLFFBR25DN0gsRUFBRyx5QkFBMkI0TSxLQUV6QixTQUFXQSxHQUVmOEMsRUFBTTdPLEtBQU0sV0FBWSxZQVRkVCxLQVdBeU8sY0FFVHRHLEVBQU1qSSxHQUFJLFNBQVVSLEtBQUtxSSxpQkFBa0JySSxLQUFLcUksaUJBQWlCVyxVQU1sRTRHLEVBQU1KLFdBQVksWUFBYXZMLElBQUssSUFuQjFCM0QsS0FxQkF5TyxlQUdUdEcsRUFBTWlELElBQUssU0FBVTFMLEtBQUtxSSxpQkFBaUJXLFFBRTNDaEosS0FBS3FJLGlCQUFpQmEscUJBaUIxQmxKLEtBQUs2UCxTQUFXLFdBRWYsSUFBSXhQLEVBQU9DLEtBQ1YwTixFQUFRLElBQUloTyxLQUFLOE4sUUFBUyxpQkFzRTNCLFNBQVNnQyxFQUFnQmxJLEdBQ3hCckgsU0FBU3dQLG9CQUFxQixtQkFBb0JDLEdBV25ELFNBQVNDLEVBQVVySSxHQUNsQnZILEVBQUs2UCxTQUFVLGFBV2hCLFNBQVNGLEVBQW9CcEksR0FFNUIsSUFBSXVJLEVBQVE1UCxTQUFTNlAsT0FBUyxZQUFjLGFBQzVDL1AsRUFBSzZQLFNBQVVDLEdBbEVoQjdQLEtBQUs0UCxTQUFXLFNBQVVDLEVBQU9FLEdBRWhDRixFQUFRLGlCQUFvQkEsRUFBUTlQLEVBQUtpUSxhQUFjSCxFQUFPRSxHQUFXRixFQUV6RSxJQUFJSSxFQUFNdkMsRUFBTVAsSUFBSyxTQUFVLElBQy9COEMsRUFBSUMsS0FBTUwsR0FDVm5DLEVBQU1VLElBQUssU0FBVTZCLElBYXRCalEsS0FBS2dRLGFBQWUsU0FBVUgsRUFBT0UsR0FDcEMsTUFBTyxDQUNOQSxPQUFRQSxFQUNSdE4sSUFBSzlDLE9BQU9zQyxTQUFTa08sS0FDckJOLE1BQU9BLEVBQ1BPLE1BQU0sSUFBSUMsTUFBT0MsVUFBWSxNQTVDOUJoSSxRQUFRQyxJQUFLbUYsRUFBTVAsSUFBSyxXQUd4QnBOLEVBQUs2UCxTQUFVLGFBR2ZqUSxPQUFPNFEsaUJBQWtCLGVBQWdCZixHQUN6QzdQLE9BQU80USxpQkFBa0IsU0FBVVosR0FDbkMxUCxTQUFTc1EsaUJBQWtCLG1CQUFvQmIsSUF1RmpEL1AsT0FBT2dELEtBQU9oRCxPQUFPZ0QsTUFBUSxHQUM3QkEsS0FBSzZOLFNBQVcsSUFBSTlRLEtBQUs2UCxTQVV6QjdQLEtBQUs2RCxLQUFPLENBTVh6RCxLQUFNLFdBQ0xFLEtBQUtHLFFBUU5BLEtBQU0sYUFRTnNRLFFBQVMsU0FBVXpLLEdBS2xCLElBSEEsSUFBSTBLLEdBQWMsRUFDakJqTyxFQUFNOUMsT0FBT3NDLFNBQVNrTyxLQUVkeEwsRUFBSSxFQUFHQSxFQUFJcUIsRUFBUXJGLE9BQVFnRSxJQUVILEVBQTNCbEMsRUFBSU4sT0FBUTZELEVBQVFyQixNQUFhK0wsSUFFckNBLEdBQWMsR0FJaEIsT0FBT0EsR0FPUmxOLGVBQWdCLFdBS1osSUFIQSxJQUFlcEIsRUFBWHVPLEVBQU8sR0FDVkMsRUFBU2pSLE9BQU9zQyxTQUFTa08sS0FBS1UsTUFBTWxSLE9BQU9zQyxTQUFTa08sS0FBSzlOLFFBQVEsS0FBTyxHQUFHeU8sTUFBTSxLQUUxRW5NLEVBQUksRUFBR0EsRUFBSWlNLEVBQU9qUSxPQUFRZ0UsSUFDOUJ2QyxFQUFPd08sRUFBT2pNLEdBQUdtTSxNQUFNLEtBQ3ZCSCxFQUFLVCxLQUFLOU4sRUFBSyxJQUNmdU8sRUFBS3ZPLEVBQUssSUFBTUEsRUFBSyxHQUd6QixPQUFPdU8sSUFVWmpSLEtBQUtJLEtBQU8sV0FFWCxJQUFLLElBQUlpUixLQUFRclIsS0FFVyxpQkFBZkEsS0FBS3FSLElBQXFDLE9BQWZyUixLQUFLcVIsU0FFbEJDLElBQXBCdFIsS0FBS3FSLEdBQU1qUixNQUVpQixtQkFBcEJKLEtBQUtxUixHQUFNalIsTUFDdEJKLEtBQUtxUixHQUFNalIsUUFtQmhCSixLQUFLdVIsZ0JBQWtCLFdBRXRCLElBQUlDLEVBQVcsNEJBQTRCSixNQUFNLEtBS2pELEdBQU8saUJBQWtCblIsUUFBWUEsT0FBT3dSLGVBQWlCbFIsb0JBQW9Ca1IsY0FDaEYsT0FBTyxFQUtSLElBVm1CQyxFQVVmQSxFQUFRLENBQUMsSUFBS0YsRUFBU0csS0FBSyxvQkFBcUIsU0FBVSxLQUFLQSxLQUFLLElBQ3pFLE9BWG1CRCxFQVdSQSxFQVZIelIsT0FBTzJSLFdBQVlGLEdBQVFHLFNBcUJwQzdSLEtBQUtpRyxxQkFBdUIsU0FBVTZMLEdBQ3JDeFIsS0FBS3lSLFNBQVUsV0FDZCxZQUFTVCxJQUFjcFIsRUFBRThSLEdBQUc5TCxhQUMxQjRMLElBVUo5UixLQUFLZ00saUJBQW1CLFNBQVU4RixHQUNqQ3hSLEtBQUt5UixTQUFVLFdBQ2QsWUFBU1QsSUFBY3BSLEVBQUU4UixHQUFHOUYsY0FDMUI0RixJQVlKOVIsS0FBSytSLFNBQVcsU0FBVUUsRUFBTUgsR0FFL0IsSUFDQ3BKLEVBREdDLEVBQVUsRUFHZEQsRUFBV3BELFlBQWEsV0FHdkIsR0FBZ0IsS0FBWHFELEVBRUpDLFFBQVFDLElBQUssaUNBR1AsQ0FHTixJQUFLb0osSUFRSixPQUZBckosUUFBUUMsSUFBSyxtQkFDYkYsSUFMQW1KLElBWUZoTSxjQUFlNEMsSUFFYixNQUlKMUksS0FBS0ksS0FBS0YsR0FsekRYLENBcXpERzJNIiwiZmlsZSI6ImxsbXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAqXG4gKiBDb250cmlidXRvcidzIE5vdGljZVxuICogXG4gKiBUaGlzIGlzIGEgY29tcGlsZWQgZmlsZSBhbmQgc2hvdWxkIG5vdCBiZSBlZGl0ZWQgZGlyZWN0bHkhXG4gKiBUaGUgdW5jb21waWxlZCBzY3JpcHQgaXMgbG9jYXRlZCBpbiB0aGUgXCJhc3NldHMvcHJpdmF0ZVwiIGRpcmVjdG9yeVxuICogXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqXG4gKiBNYWluIExMTVMgTmFtZXNwYWNlXG4gKlxuICogQHR5cGUgICAgIHtPYmplY3R9XG4gKiBAc2luY2UgICAgMS4wLjBcbiAqIEB2ZXJzaW9uICAzLjI0LjNcbiAqL1xudmFyIExMTVMgPSB3aW5kb3cuTExNUyB8fCB7fTtcbihmdW5jdGlvbigkKXtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0LyoqXG5cdCAqIGxvYWQgYWxsIGFwcCBtb2R1bGVzXG5cdCAqL1xuXHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHRcblx0LyoqXG5cdCAqIEZyb250IEVuZCBBY2hpZXZlbWVudHNcblx0ICogQHR5cGUgICAgIHtPYmplY3R9XG5cdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHQgKi9cblx0TExNUy5BY2hpZXZlbWVudHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLWFjaGlldmVtZW50JyApICkge1xuXHRcdFx0XHQkKCBkb2N1bWVudCApLm9uKCAncmVhZHknLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0XHRzZWxmLm1heWJlX29wZW4oKTtcblx0XHRcdFx0fSApO1xuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjE0LjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdCQoICcubGxtcy1hY2hpZXZlbWVudCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHNlbGYuY3JlYXRlX21vZGFsKCAkKCB0aGlzICkgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0JCggJy5sbG1zLWFjaGlldmVtZW50JyApLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRpZCA9ICdhY2hpZXZlbWVudC0nICsgJHRoaXMuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdFx0JG1vZGFsID0gJCggJyMnICsgaWQgKTtcblx0XG5cdFx0XHRcdGlmICggISRtb2RhbC5sZW5ndGggKSB7XG5cdFx0XHRcdFx0c2VsZi5jcmVhdGVfbW9kYWwoICR0aGlzICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCRtb2RhbC5pemlNb2RhbCggJ29wZW4nICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIG1vZGFsIGEgbW9kYWwgZm9yIGFuIGFjaGlldmVtZW50XG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICRlbCAgalF1ZXJ5IHNlbGVjdG9yIGZvciB0aGUgbW9kYWwgY2FyZFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTQuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0XHQgKi9cblx0XHRjcmVhdGVfbW9kYWw6IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFxuXHRcdFx0dmFyIGlkID0gJ2FjaGlldmVtZW50LScgKyAkZWwuYXR0ciggJ2RhdGEtaWQnICksXG5cdFx0XHRcdCRtb2RhbCA9ICQoICcjJyArIGlkICk7XG5cdFxuXHRcdFx0aWYgKCAhJG1vZGFsLmxlbmd0aCApIHtcblx0XHRcdFx0JG1vZGFsID0gJCggJzxkaXYgY2xhc3M9XCJsbG1zLWFjaGlldmVtZW50LW1vZGFsXCIgaWQ9XCInICsgaWQgKyAnXCIgLz4nICk7XG5cdFx0XHRcdCQoICdib2R5JyApLmFwcGVuZCggJG1vZGFsICk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0JG1vZGFsLml6aU1vZGFsKCB7XG5cdFx0XHRcdGhlYWRlckNvbG9yOiAnIzNhM2EzYScsXG5cdFx0XHRcdGdyb3VwOiAnYWNoaWV2ZW1lbnRzJyxcblx0XHRcdFx0aGlzdG9yeTogdHJ1ZSxcblx0XHRcdFx0bG9vcDogdHJ1ZSxcblx0XHRcdFx0b3ZlcmxheUNvbG9yOiAncmdiYSggMCwgMCwgMCwgMC42ICknLFxuXHRcdFx0XHR0cmFuc2l0aW9uSW46ICdmYWRlSW5Eb3duJyxcblx0XHRcdFx0dHJhbnNpdGlvbk91dDogJ2ZhZGVPdXREb3duJyxcblx0XHRcdFx0d2lkdGg6IDM0MCxcblx0XHRcdFx0b25PcGVuaW5nOiBmdW5jdGlvbiggbW9kYWwgKSB7XG5cdFxuXHRcdFx0XHRcdG1vZGFsLnNldFRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LXRpdGxlJyApLmh0bWwoKSApO1xuXHRcdFx0XHRcdG1vZGFsLnNldFN1YnRpdGxlKCAkZWwuZmluZCggJy5sbG1zLWFjaGlldmVtZW50LWRhdGUnICkuaHRtbCgpICk7XG5cdFx0XHRcdFx0bW9kYWwuc2V0Q29udGVudCggJzxkaXYgY2xhc3M9XCJsbG1zLWFjaGlldmVtZW50XCI+JyArICRlbC5odG1sKCkgKyAnPC9kaXY+JyApO1xuXHRcblx0XHRcdFx0fSxcblx0XG5cdFx0XHRcdG9uQ2xvc2luZzogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0d2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKCAnJywgZG9jdW1lbnQudGl0bGUsIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggKTtcblx0XHRcdFx0fSxcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE9uIHBhZ2UgbG9hZCwgb3BlbnMgYSBtb2RhbCBpZiB0aGUgVVJMIGNvbnRhaW5zIGFuIGFjaGlldmVtZW50IGluIHRoZSBsb2NhdGlvbiBoYXNoXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4xNC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTQuMFxuXHRcdCAqL1xuXHRcdG1heWJlX29wZW46IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRpZiAoIGhhc2ggJiYgLTEgIT09IGhhc2guaW5kZXhPZiggJ2FjaGlldmVtZW50LScgKSApIHtcblx0XHRcdFx0JCggJ2FbaHJlZj1cIicgKyBoYXNoICsgJ1wiXScpLmZpcnN0KCkudHJpZ2dlciggJ2NsaWNrJyApO1xuXHRcdFx0fVxuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUywgJCwgd3BfYWpheF9kYXRhICovXG5cdC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cdFxuXHQvKipcblx0ICogTWFpbiBBamF4IGNsYXNzXG5cdCAqIEhhbmRsZXMgUHJpbWFyeSBBamF4IGNvbm5lY3Rpb25cblx0ICogQHR5cGUge09iamVjdH1cblx0ICovXG5cdExMTVMuQWpheCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogdXJsXG5cdFx0ICogQHR5cGUge1N0cmluZ31cblx0XHQgKi9cblx0XHR1cmw6IHdpbmRvdy5hamF4dXJsIHx8IHdpbmRvdy5sbG1zLmFqYXh1cmwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIHR5cGVcblx0XHQgKiBAdHlwZSB7W3R5cGVdfVxuXHRcdCAqL1xuXHRcdHR5cGU6ICdwb3N0Jyxcblx0XG5cdFx0LyoqXG5cdFx0ICogZGF0YVxuXHRcdCAqIEB0eXBlIHtbdHlwZV19XG5cdFx0ICovXG5cdFx0ZGF0YTogW10sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGNhY2hlXG5cdFx0ICogQHR5cGUge1t0eXBlXX1cblx0XHQgKi9cblx0XHRjYWNoZTogZmFsc2UsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGRhdGFUeXBlXG5cdFx0ICogZGVmYXVsdGVkIHRvIGpzb25cblx0XHQgKiBAdHlwZSB7U3RyaW5nfVxuXHRcdCAqL1xuXHRcdGRhdGFUeXBlOiAnanNvbicsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIGFzeW5jXG5cdFx0ICogZGVmYXVsdCB0byBmYWxzZVxuXHRcdCAqIEB0eXBlIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdGFzeW5jOiB0cnVlLFxuXHRcblx0XHRyZXNwb25zZTpbXSxcblx0XG5cdFx0LyoqXG5cdFx0ICogaW5pdGlhbGl6ZSBBamF4IG1ldGhvZHNcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24ob2JqKSB7XG5cdFxuXHRcdFx0Ly9pZiBvYmogaXMgbm90IG9mIHR5cGUgb2JqZWN0IG9yIG51bGwgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYoIG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcblx0XHRcdC8vc2V0IG9iamVjdCBkZWZhdWx0cyBpZiB2YWx1ZXMgYXJlIG5vdCBzdXBwbGllZFxuXHRcdFx0b2JqLnVybFx0XHRcdD0gJ3VybCcgICAgICAgICBpbiBvYmogPyBvYmoudXJsICAgICAgICA6IHRoaXMudXJsO1xuXHRcdFx0b2JqLnR5cGUgXHRcdD0gJ3R5cGUnIFx0XHRpbiBvYmogPyBvYmoudHlwZSBcdFx0OiB0aGlzLnR5cGU7XG5cdFx0XHRvYmouZGF0YSBcdFx0PSAnZGF0YScgXHRcdGluIG9iaiA/IG9iai5kYXRhIFx0XHQ6IHRoaXMuZGF0YTtcblx0XHRcdG9iai5jYWNoZSBcdFx0PSAnY2FjaGUnIFx0XHRpbiBvYmogPyBvYmouY2FjaGUgXHRcdDogdGhpcy5jYWNoZTtcblx0XHRcdG9iai5kYXRhVHlwZSBcdD0gJ2RhdGFUeXBlJ1x0aW4gb2JqID8gb2JqLmRhdGFUeXBlIFx0OiB0aGlzLmRhdGFUeXBlO1xuXHRcdFx0b2JqLmFzeW5jIFx0XHQ9ICdhc3luYydcdFx0aW4gb2JqID8gb2JqLmFzeW5jIFx0XHQ6IHRoaXMuYXN5bmM7XG5cdFxuXHRcdFx0Ly9hZGQgbm9uY2UgdG8gZGF0YSBvYmplY3Rcblx0XHRcdG9iai5kYXRhLl9hamF4X25vbmNlID0gd3BfYWpheF9kYXRhLm5vbmNlO1xuXHRcblx0XHRcdC8vYWRkIHBvc3QgaWQgdG8gZGF0YSBvYmplY3Rcblx0XHRcdHZhciAkUiA9IExMTVMuUmVzdCxcblx0XHRcdHF1ZXJ5X3ZhcnMgPSAkUi5nZXRfcXVlcnlfdmFycygpO1xuXHRcdFx0b2JqLmRhdGEucG9zdF9pZCA9ICdwb3N0JyBpbiBxdWVyeV92YXJzID8gcXVlcnlfdmFycy5wb3N0IDogbnVsbDtcblx0XHRcdGlmICggIW9iai5kYXRhLnBvc3RfaWQgJiYgJCggJ2lucHV0I3Bvc3RfSUQnICkubGVuZ3RoICkge1xuXHRcdFx0XHRvYmouZGF0YS5wb3N0X2lkID0gJCggJ2lucHV0I3Bvc3RfSUQnICkudmFsKCk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIG9iajtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBDYWxsXG5cdFx0ICogQ2FsbGVkIGJ5IGV4dGVybmFsIGNsYXNzZXNcblx0XHQgKiBTZXRzIHVwIGpRdWVyeSBBamF4IG9iamVjdFxuXHRcdCAqIEBwYXJhbSAge1tvYmplY3RdfSBbb2JqZWN0IG9mIGFqYXggc2V0dGluZ3NdXG5cdFx0ICogQHJldHVybiB7W21peGVkXX0gW2ZhbHNlIGlmIG5vdCBvYmplY3Qgb3IgdGhpc11cblx0XHQgKi9cblx0XHRjYWxsOiBmdW5jdGlvbihvYmopIHtcblx0XG5cdFx0XHQvL2dldCBkZWZhdWx0IHZhcmlhYmxlcyBpZiBub3QgaW5jbHVkZWQgaW4gY2FsbFxuXHRcdFx0dmFyIHNldHRpbmdzID0gdGhpcy5pbml0KG9iaik7XG5cdFxuXHRcdFx0Ly9pZiBpbml0IHJldHVybiBhIHJlc3BvbnNlIG9mIGZhbHNlXG5cdFx0XHRpZiAoIXNldHRpbmdzKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucmVxdWVzdChzZXR0aW5ncyk7XG5cdFx0XHR9XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENhbGxzIGpRdWVyeSBBamF4IG9uIHNldHRpbmdzIG9iamVjdFxuXHRcdCAqIEByZXR1cm4ge1tvYmplY3RdfSBbdGhpc11cblx0XHQgKi9cblx0XHRyZXF1ZXN0OiBmdW5jdGlvbihzZXR0aW5ncykge1xuXHRcblx0XHRcdCQuYWpheChzZXR0aW5ncyk7XG5cdFxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TICovXG5cdC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cdFxuXHQvKipcblx0ICogQ3JlYXRlIGEgRG9udXQgQ2hhcnRcblx0ICogQHNvdXJjZSAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2pvZXlpbmJveC84MjA1OTYyXG5cdCAqIEBwYXJhbSAgICBvYmogICAkZWwgIGpRdWVyeSBlbGVtZW50IHRvIGRyYXcgYSBjaGFydCB3aXRoaW5cblx0ICogQHNpbmNlICAgIDMuOS4wXG5cdCAqIEB2ZXJzaW9uICAzLjkuMFxuXHQgKi9cblx0TExNUy5Eb251dCA9IGZ1bmN0aW9uKCAkZWwgKSB7XG5cdFxuXHRcdGZ1bmN0aW9uIERvbnV0KG9wdGlvbnMpIHtcblx0XG5cdFx0XHR0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoIHtcblx0XHRcdFx0ZWxlbWVudDogb3B0aW9ucy5lbGVtZW50LFxuXHRcdFx0XHRwZXJjZW50OiAxMDBcblx0XHRcdH0sIG9wdGlvbnMgKTtcblx0XG5cdFx0XHR0aGlzLmNpcmNsZSA9IHRoaXMuc2V0dGluZ3MuZWxlbWVudC5maW5kKCAncGF0aCcgKTtcblx0XHRcdHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoID0gcGFyc2VJbnQoIHRoaXMuY2lyY2xlLmNzcyggJ3N0cm9rZS13aWR0aCcgKSApO1xuXHRcdFx0dGhpcy5yYWRpdXMgPSAoIHBhcnNlSW50KCB0aGlzLnNldHRpbmdzLmVsZW1lbnQuY3NzKCAnd2lkdGgnICkgKSAtIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoICkgLyAyO1xuXHRcdFx0dGhpcy5hbmdsZSA9IC05Ny41OyAvLyBPcmlnaW4gb2YgdGhlIGRyYXcgYXQgdGhlIHRvcCBvZiB0aGUgY2lyY2xlXG5cdFx0XHR0aGlzLmkgPSBNYXRoLnJvdW5kKCAwLjc1ICogdGhpcy5zZXR0aW5ncy5wZXJjZW50ICk7XG5cdFx0XHR0aGlzLmZpcnN0ID0gdHJ1ZTtcblx0XG5cdFx0XHR0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy50aW1lciA9IHNldEludGVydmFsKCB0aGlzLmxvb3AuYmluZCggdGhpcyApLCAxMCApO1xuXHRcdFx0fTtcblx0XG5cdFx0XHR0aGlzLmxvb3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dGhpcy5hbmdsZSArPSA1O1xuXHRcdFx0XHR0aGlzLmFuZ2xlICU9IDM2MDtcblx0XHRcdFx0dmFyIHJhZGlhbnMgPSAoIHRoaXMuYW5nbGUgLyAxODAgKSAqIE1hdGguUEksXG5cdFx0XHRcdFx0eCA9IHRoaXMucmFkaXVzICsgdGhpcy5zZXR0aW5ncy5zdHJva2Vfd2lkdGggLyAyICsgTWF0aC5jb3MoIHJhZGlhbnMgKSAqIHRoaXMucmFkaXVzLFxuXHRcdFx0XHRcdHkgPSB0aGlzLnJhZGl1cyArIHRoaXMuc2V0dGluZ3Muc3Ryb2tlX3dpZHRoIC8gMiArIE1hdGguc2luKCByYWRpYW5zICkgKiB0aGlzLnJhZGl1cyxcblx0XHRcdFx0XHRkO1xuXHRcdFx0XHRpZiAodGhpcy5maXJzdCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGQgPSB0aGlzLmNpcmNsZS5hdHRyKCAnZCcgKSArICcgTSAnICsgeCArICcgJyArIHk7XG5cdFx0XHRcdFx0dGhpcy5maXJzdCA9IGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGQgPSB0aGlzLmNpcmNsZS5hdHRyKCAnZCcgKSArICcgTCAnICsgeCArICcgJyArIHk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy5jaXJjbGUuYXR0ciggJ2QnLCBkICk7XG5cdFx0XHRcdHRoaXMuaS0tO1xuXHRcblx0XHRcdFx0aWYodGhpcy5pPD0wKSB7XG5cdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcdGZ1bmN0aW9uIGRyYXcoICRlbCApIHtcblx0XHRcdHZhciBwYXRoID0gJzxwYXRoIGQ9XCJNMTAwLDEwMFwiIC8+Jztcblx0XHRcdCRlbC5hcHBlbmQoICc8c3ZnIHByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZFwiIHhtbG5zOnhsaW5rPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiPicgKyBwYXRoICsgJzwvc3ZnPicgKTtcblx0XHRcdHZhciBkb251dCA9IG5ldyBEb251dCgge1xuXHRcdFx0XHRlbGVtZW50OiAkZWwsXG5cdFx0XHRcdHBlcmNlbnQ6ICRlbC5hdHRyKCdkYXRhLXBlcmMnKVxuXHRcdFx0fSApO1xuXHRcdFx0ZG9udXQuYW5pbWF0ZSgpO1xuXHRcdH1cblx0XG5cdFx0ZHJhdyggJGVsICk7XG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHQvKipcblx0ICogSW5zdHJ1Y3RvcnMgTGlzdFxuXHQgKi9cblx0TExNUy5JbnN0cnVjdG9ycyA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHRpZiAoICQoICdib2R5JyApLmhhc0NsYXNzKCAnd3AtYWRtaW4nICkgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoICQoICcubGxtcy1pbnN0cnVjdG9ycycgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtaW5zdHJ1Y3RvcnMgLmxsbXMtYXV0aG9yJyApLm1hdGNoSGVpZ2h0KCk7XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUyAqL1xuXHRcblx0LyoqXG5cdCAqIExvY2FsaXphdGlvbiBmdW5jdGlvbnMgZm9yIExpZnRlckxNUyBKYXZhc2NyaXB0XG5cdCAqXG5cdCAqIEB0b2RvICB3ZSBuZWVkIG1vcmUgcm9idXN0IHRyYW5zbGF0aW9uIGZ1bmN0aW9ucyB0byBoYW5kbGUgc3ByaW50ZiBhbmQgcGx1cmFsaXphdGlvblxuXHQgKiAgICAgICAgYXQgdGhpcyBtb21lbnQgd2UgZG9uJ3QgbmVlZCB0aG9zZSBhbmQgaGF2ZW4ndCBzdHViYmVkIHRoZW0gb3V0XG5cdCAqICAgICAgICB0aG9zZSB3aWxsIGJlIGFkZGVkIHdoZW4gdGhleSdyZSBuZWVkZWRcblx0ICpcblx0ICogQHR5cGUgT2JqZWN0XG5cdCAqXG5cdCAqIEBzaW5jZSAgMi43LjNcblx0ICovXG5cdExMTVMubDEwbiA9IExMTVMubDEwbiB8fCB7fTtcblx0XG5cdExMTVMubDEwbi50cmFuc2xhdGUgPSBmdW5jdGlvbiAoIHN0cmluZyApIHtcblx0XG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRpZiAoIHNlbGYuc3RyaW5nc1tzdHJpbmddICkge1xuXHRcblx0XHRcdHJldHVybiBzZWxmLnN0cmluZ3Nbc3RyaW5nXTtcblx0XG5cdFx0fSBlbHNlIHtcblx0XG5cdFx0XHRyZXR1cm4gc3RyaW5nO1xuXHRcblx0XHR9XG5cdFxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIFRyYW5zbGF0ZSBhbmQgcmVwbGFjZSBwbGFjZWhvbGRlcnMgaW4gYSBzdHJpbmdcblx0ICpcblx0ICogQGV4YW1wbGUgTExNUy5sMTBuLnJlcGxhY2UoICdUaGlzIGlzIGEgJTIkcyAlMSRzIFN0cmluZycsIHtcblx0ICogICAgICAgICAgIFx0JyUxJHMnOiAnY29vbCcsXG5cdCAqICAgIFx0XHRcdCclMiRzJzogJ3ZlcnknXG5cdCAqICAgIFx0XHR9ICk7XG5cdCAqICAgIFx0XHRPdXRwdXQ6IFwiVGhpcyBpcyBhIHZlcnkgY29vbCBTdHJpbmdcIlxuXHQgKlxuXHQgKiBAcGFyYW0gICAgc3RyaW5nICAgc3RyaW5nICAgICAgICB0ZXh0IHN0cmluZ1xuXHQgKiBAcGFyYW0gICAgb2JqZWN0ICAgcmVwbGFjZW1lbnRzICBvYmplY3QgY29udGFpbmluZyB0b2tlbiA9PiByZXBsYWNlbWVudCBwYWlyc1xuXHQgKiBAcmV0dXJuICAgc3RyaW5nXG5cdCAqIEBzaW5jZSAgICAzLjE2LjBcblx0ICogQHZlcnNpb24gIDMuMTYuMFxuXHQgKi9cblx0TExNUy5sMTBuLnJlcGxhY2UgPSBmdW5jdGlvbiggc3RyaW5nLCByZXBsYWNlbWVudHMgKSB7XG5cdFxuXHRcdHZhciBzdHIgPSB0aGlzLnRyYW5zbGF0ZSggc3RyaW5nICk7XG5cdFxuXHRcdCQuZWFjaCggcmVwbGFjZW1lbnRzLCBmdW5jdGlvbiggdG9rZW4sIHZhbHVlICkge1xuXHRcblx0XHRcdGlmICggLTEgIT09IHRva2VuLmluZGV4T2YoICdzJyApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCAtMSAhPT0gdG9rZW4uaW5kZXhPZiggJ2QnICkgKSB7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWUgKiAxO1xuXHRcdFx0fVxuXHRcblx0XHRcdHN0ciA9IHN0ci5yZXBsYWNlKCB0b2tlbiwgdmFsdWUgKTtcblx0XG5cdFx0fSApO1xuXHRcblx0XHRyZXR1cm4gc3RyO1xuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBIYW5kbGUgTGVzc29uIFByZXZpZXcgRWxlbWVudHNcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE2LjEyXG5cdCAqL1xuXHRMTE1TLkxlc3NvblByZXZpZXcgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIGpRdWVyeSBvYmplY3Qgb2YgYWxsIG91dGxpbmVzIHByZXNlbnQgb24gdGhlIGN1cnJlbnQgc2NyZWVuXG5cdFx0ICogQHR5cGUgb2JqXG5cdFx0ICovXG5cdFx0JGVsczogbnVsbCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZVxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtbGVzc29uLWxvY2tlZFwiXScgKTtcblx0XG5cdFx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmJpbmQoKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtY291cnNlLW5hdmlnYXRpb24nICkubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0TExNUy53YWl0X2Zvcl9tYXRjaEhlaWdodCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdHNlbGYubWF0Y2hfaGVpZ2h0KCk7XG5cdFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNi4xMlxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0dGhpcy4kbG9ja2VkLm9uKCAnbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdFx0dmFyICR0aXAgPSAkKCB0aGlzICkuZmluZCggJy5sbG1zLXRvb2x0aXAnICk7XG5cdFx0XHRcdGlmICggISR0aXAubGVuZ3RoICkge1xuXHRcdFx0XHRcdHZhciBtc2cgPSAkKCB0aGlzICkuYXR0ciggJ2RhdGEtdG9vbHRpcC1tc2cnICk7XG5cdFx0XHRcdFx0aWYgKCAhbXNnICkge1xuXHRcdFx0XHRcdFx0bXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ1lvdSBkbyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyB0aGlzIGNvbnRlbnQnICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCR0aXAgPSBzZWxmLmdldF90b29sdGlwKCBtc2cgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuYXBwZW5kKCAkdGlwICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0JHRpcC5hZGRDbGFzcyggJ3Nob3cnICk7XG5cdFx0XHRcdH0sIDEwICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHRcdHRoaXMuJGxvY2tlZC5vbiggJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHZhciAkdGlwID0gJCggdGhpcyApLmZpbmQoICcubGxtcy10b29sdGlwJyApO1xuXHRcdFx0XHQkdGlwLnJlbW92ZUNsYXNzKCAnc2hvdycgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgbGVzc29uIHByZXZpZXcgaXRlbXMgaW4gY291cnNlIG5hdmlnYXRpb24gYmxvY2tzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRtYXRjaF9oZWlnaHQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdCQoICcubGxtcy1jb3Vyc2UtbmF2aWdhdGlvbiAubGxtcy1sZXNzb24tbGluaycgKS5tYXRjaEhlaWdodCgpO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBHZXQgYSB0b29sdGlwIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgbXNnICAgbWVzc2FnZSB0byBkaXNwbGF5IGluc2lkZSB0aGUgdG9vbHRpcFxuXHRcdCAqIEByZXR1cm4gICBvYmpcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4yLjRcblx0XHQgKi9cblx0XHRnZXRfdG9vbHRpcDogZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHZhciAkZWwgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtdG9vbHRpcFwiIC8+JyApO1xuXHRcdFx0JGVsLmFwcGVuZCggJzxkaXYgY2xhc3M9XCJsbG1zLXRvb2x0aXAtY29udGVudFwiPicgKyBtc2cgKyAnPC9kaXY+JyApO1xuXHRcdFx0cmV0dXJuICRlbDtcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBMaWZ0ZXJMTVMgTG9vcHMgSlNcblx0ICogQHNpbmNlICAgIDMuMC4wXG5cdCAqIEB2ZXJzaW9uICAzLjE0LjBcblx0ICovXG5cdExMTVMuTG9vcHMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtbG9vcCcgKS5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0KCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0c2VsZi5tYXRjaF9oZWlnaHQoKTtcblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIE1hdGNoIHRoZSBoZWlnaHQgb2YgLmxsbXMtbG9vcC1pdGVtXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4xNC4wXG5cdFx0ICovXG5cdFx0bWF0Y2hfaGVpZ2h0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtbG9vcC1pdGVtIC5sbG1zLWxvb3AtaXRlbS1jb250ZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0XHQkKCAnLmxsbXMtYWNoaWV2ZW1lbnQtbG9vcC1pdGVtIC5sbG1zLWFjaGlldmVtZW50JyApLm1hdGNoSGVpZ2h0KCk7XG5cdFx0XHQkKCAnLmxsbXMtY2VydGlmaWNhdGUtbG9vcC1pdGVtIC5sbG1zLWNlcnRpZmljYXRlJyApLm1hdGNoSGVpZ2h0KCk7XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHRcblx0LyoqXG5cdCAqIEhhbmRsZSB0aGUgQ29sbGFwc2libGUgU3lsbGFidXMgV2lkZ2V0IC8gU2hvcnRjb2RlXG5cdCAqL1xuXHRMTE1TLk91dGxpbmVDb2xsYXBzZSA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogalF1ZXJ5IG9iamVjdCBvZiBhbGwgb3V0bGluZXMgcHJlc2VudCBvbiB0aGUgY3VycmVudCBzY3JlZW5cblx0XHQgKiBAdHlwZSBvYmpcblx0XHQgKi9cblx0XHQkb3V0bGluZXM6IG51bGwsXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR0aGlzLiRvdXRsaW5lcyA9ICQoICcubGxtcy13aWRnZXQtc3lsbGFidXMtLWNvbGxhcHNpYmxlJyApO1xuXHRcblx0XHRcdGlmICggdGhpcy4kb3V0bGluZXMubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIERPTSBldmVudHNcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0dGhpcy4kb3V0bGluZXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHR2YXIgJG91dGxpbmUgPSAkKCB0aGlzICksXG5cdFx0XHRcdFx0JGhlYWRlcnMgPSAkb3V0bGluZS5maW5kKCAnLmxsbXMtc2VjdGlvbiAuc2VjdGlvbi1oZWFkZXInICk7XG5cdFxuXHRcdFx0XHQvLyBiaW5kIGhlYWRlciBjbGlja3Ncblx0XHRcdFx0JGhlYWRlcnMub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0XHRcdHZhciAkdG9nZ2xlID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0JHNlY3Rpb24gPSAkdG9nZ2xlLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0c3RhdGUgPSBzZWxmLmdldF9zZWN0aW9uX3N0YXRlKCAkc2VjdGlvbiApO1xuXHRcblx0XHRcdFx0XHRzd2l0Y2goIHN0YXRlICkge1xuXHRcblx0XHRcdFx0XHRcdGNhc2UgJ2Nsb3NlZCc6XG5cdFx0XHRcdFx0XHRcdHNlbGYub3Blbl9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdFx0c2VsZi5jbG9zZV9zZWN0aW9uKCAkc2VjdGlvbiApO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdC8vIGJpbmQgb3B0aW9uYWwgdG9nZ2xlIFwiYnV0dG9uc1wiXG5cdFx0XHRcdCRvdXRsaW5lLmZpbmQoICcubGxtcy1jb2xsYXBzZS10b2dnbGUnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCBlICkge1xuXHRcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFxuXHRcdFx0XHRcdHZhciAkYnRuID0gJCggdGhpcyApLFxuXHRcdFx0XHRcdFx0YWN0aW9uID0gJGJ0bi5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdFx0XHRvcHBvc2l0ZV9hY3Rpb24gPSAoICdjbG9zZScgPT09IGFjdGlvbiApID8gJ29wZW5lZCcgOiAnY2xvc2VkJztcblx0XG5cdFx0XHRcdFx0JGhlYWRlcnMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRcdFx0dmFyICRzZWN0aW9uID0gJCggdGhpcyApLmNsb3Nlc3QoICcubGxtcy1zZWN0aW9uJyApLFxuXHRcdFx0XHRcdFx0XHRzdGF0ZSA9IHNlbGYuZ2V0X3NlY3Rpb25fc3RhdGUoICRzZWN0aW9uICk7XG5cdFxuXHRcdFx0XHRcdFx0aWYgKCBvcHBvc2l0ZV9hY3Rpb24gIT09IHN0YXRlICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdH1cblx0XG5cdFx0XHRcdFx0XHRzd2l0Y2goIHN0YXRlICkge1xuXHRcblx0XHRcdFx0XHRcdFx0Y2FzZSAnY2xvc2VkJzpcblx0XHRcdFx0XHRcdFx0XHRzZWxmLmNsb3NlX3NlY3Rpb24oICRzZWN0aW9uICk7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcblx0XHRcdFx0XHRcdFx0Y2FzZSAnb3BlbmVkJzpcblx0XHRcdFx0XHRcdFx0XHRzZWxmLm9wZW5fc2VjdGlvbiggJHNlY3Rpb24gKTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFxuXHRcdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRcdCQoIHRoaXMgKS50cmlnZ2VyKCAnY2xpY2snICk7XG5cdFxuXHRcdFx0XHRcdH0gKTtcblx0XG5cdFx0XHRcdH0gKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlIGFuIG91dGxpbmUgc2VjdGlvblxuXHRcdCAqIEBwYXJhbSAgb2JqICAgICRzZWN0aW9uICAgalF1ZXJ5IHNlbGVjdG9yIG9mIGEgJy5sbG1zLXNlY3Rpb24nXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0Y2xvc2Vfc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1vcGVuZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLWNsb3NlZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogT3BlbiBhbiBvdXRsaW5lIHNlY3Rpb25cblx0XHQgKiBAcGFyYW0gIG9iaiAgICAkc2VjdGlvbiAgIGpRdWVyeSBzZWxlY3RvciBvZiBhICcubGxtcy1zZWN0aW9uJ1xuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdG9wZW5fc2VjdGlvbjogZnVuY3Rpb24oICRzZWN0aW9uICkge1xuXHRcblx0XHRcdCRzZWN0aW9uLnJlbW92ZUNsYXNzKCAnbGxtcy1zZWN0aW9uLS1jbG9zZWQnICkuYWRkQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjdXJyZW50IHN0YXRlIChvcGVuIG9yIGNsb3NlZCkgb2YgYW4gb3V0bGluZSBzZWN0aW9uXG5cdFx0ICogQHBhcmFtICBvYmogICAgJHNlY3Rpb24gICBqUXVlcnkgc2VsZWN0b3Igb2YgYSAnLmxsbXMtc2VjdGlvbidcblx0XHQgKiBAcmV0dXJuIHN0cmluZyAgICAgICAgICAgICdvcGVuZWQnIG9yICdjbG9zZWQnXG5cdFx0ICovXG5cdFx0Z2V0X3NlY3Rpb25fc3RhdGU6IGZ1bmN0aW9uKCAkc2VjdGlvbiApIHtcblx0XG5cdFx0XHRyZXR1cm4gJHNlY3Rpb24uaGFzQ2xhc3MoICdsbG1zLXNlY3Rpb24tLW9wZW5lZCcgKSA/ICdvcGVuZWQnIDogJ2Nsb3NlZCc7XG5cdFxuXHRcdH1cblx0XG5cdH07XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkLCB3cCAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHRcblx0LyoqXG5cdCAqIEhhbmRsZSBQYXNzd29yZCBTdHJlbmd0aCBNZXRlciBmb3IgcmVnaXN0cmF0aW9uIGFuZCBwYXNzd29yZCB1cGRhdGUgZmllbGRzXG5cdCAqIEBzaW5jZSAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy43LjBcblx0ICovXG5cdFxuXHQkLmV4dGVuZCggTExNUy5QYXNzd29yZFN0cmVuZ3RoLCB7XG5cdFxuXHRcdCRwYXNzOiAkKCAnLmxsbXMtcGFzc3dvcmQnICksXG5cdFx0JGNvbmY6ICQoICcubGxtcy1wYXNzd29yZC1jb25maXJtJyApLFxuXHRcdCRtZXRlcjogJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLFxuXHRcdCRmb3JtOiBudWxsLFxuXHRcblx0XHQvKipcblx0XHQgKiBpbml0XG5cdFx0ICogbG9hZHMgY2xhc3MgbWV0aG9kc1xuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjcuMFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdGlmICggJCggJ2JvZHknICkuaGFzQ2xhc3MoICd3cC1hZG1pbicgKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcblx0XHRcdGlmICggdGhpcy4kbWV0ZXIubGVuZ3RoICkge1xuXHRcblx0XHRcdFx0dGhpcy4kZm9ybSA9IHRoaXMuJHBhc3MuY2xvc2VzdCggJ2Zvcm0nICk7XG5cdFxuXHRcdFx0XHQvLyBvdXIgYXNzZXQgZW5xdWV1ZSBpcyBhbGwgc2NyZXdlZCB1cCBhbmQgSSdtIHRvbyB0aXJlZCB0byBmaXggaXRcblx0XHRcdFx0Ly8gc28gd2UncmUgZ29pbmcgdG8gcnVuIHRoaXMgbGl0dGxlIGRlcGVuZGVuY3kgY2hlY2tcblx0XHRcdFx0Ly8gYW5kIHdhaXQgZm9yIG1hdGNoSGVpZ2h0IHRvIGJlIGF2YWlsYWJsZSBiZWZvcmUgYmluZGluZ1xuXHRcdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdFx0Y291bnRlciA9IDAsXG5cdFx0XHRcdFx0aW50ZXJ2YWw7XG5cdFxuXHRcdFx0XHRpbnRlcnZhbCA9IHNldEludGVydmFsKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdFx0Ly8gaWYgd2UgZ2V0IHRvIDMwIHNlY29uZHMgbG9nIGFuIGVycm9yIG1lc3NhZ2Vcblx0XHRcdFx0XHQvLyBhbmQgcmVhbGx5IHdobyBjYXJlcyBpZiB0aGUgZWxlbWVudCBoZWlnaHRzIGFyZW4ndCBtYXRjaGVkXG5cdFx0XHRcdFx0aWYgKCBjb3VudGVyID49IDMwMCApIHtcblx0XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyggJ2Nhbm5vdCBkbyBwYXNzd29yZCBzdHJlbmd0aCBtZXRlci4nKTtcblx0XG5cdFx0XHRcdFx0Ly8gaWYgd2UgY2FuJ3QgYWNjZXNzIHllLCBpbmNyZW1lbnQgYW5kIHdhaXQuLi5cblx0XHRcdFx0XHR9IGVsc2UgaWYgKCAndW5kZWZpbmVkJyA9PT0gdHlwZW9mIHdwICYmICd1bmRlZmluZWQnID09PSB0eXBlb2Ygd3AucGFzc3dvcmRTdHJlbmd0aCApIHtcblx0XG5cdFx0XHRcdFx0XHRjb3VudGVyKys7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFxuXHRcdFx0XHRcdC8vIGJpbmQgdGhlIGV2ZW50cywgd2UncmUgZ29vZCFcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHRcdFx0c2VsZi4kZm9ybS50cmlnZ2VyKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScgKTtcblx0XG5cdFx0XHRcdFx0fVxuXHRcblx0XHRcdFx0XHRjbGVhckludGVydmFsKCBpbnRlcnZhbCApO1xuXHRcblx0XHRcdFx0fSwgMTAwICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQvLyBhZGQgc3VibWlzc2lvbiBldmVudCBoYW5kbGVycyB3aGVuIG5vdCBvbiBhIGNoZWNrb3V0IGZvcm1cblx0XHRcdGlmICggIXRoaXMuJGZvcm0uaGFzQ2xhc3MoICdsbG1zLWNoZWNrb3V0JyApICkge1xuXHRcdFx0XHR0aGlzLiRmb3JtLm9uKCAnc3VibWl0Jywgc2VsZiwgc2VsZi5zdWJtaXQgKTtcblx0XHRcdH1cblx0XG5cdFx0XHQvLyBjaGVjayBwYXNzd29yZCBzdHJlbmd0aCBvbiBrZXl1cFxuXHRcdFx0c2VsZi4kcGFzcy5hZGQoIHNlbGYuJGNvbmYgKS5vbiggJ2tleXVwJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHNlbGYuY2hlY2tfc3RyZW5ndGgoKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQ2hlY2sgdGhlIHN0cmVuZ3RoIG9mIGEgdXNlciBlbnRlcmVkIHBhc3N3b3JkXG5cdFx0ICogYW5kIHVwZGF0ZSBlbGVtZW50cyBkZXBlbmRpbmcgb24gdGhlIGN1cnJlbnQgc3RyZW5ndGhcblx0XHQgKiBAcmV0dXJuIHZvaWRcblx0XHQgKiBAc2luY2UgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAzLjAuMFxuXHRcdCAqL1xuXHRcdGNoZWNrX3N0cmVuZ3RoOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgJHBhc3NfZmllbGQgPSB0aGlzLiRwYXNzLmNsb3Nlc3QoICcubGxtcy1mb3JtLWZpZWxkJyApLFxuXHRcdFx0XHQkY29uZl9maWVsZCA9IHRoaXMuJGNvbmYuY2xvc2VzdCggJy5sbG1zLWZvcm0tZmllbGQnICksXG5cdFx0XHRcdHBhc3NfbGVuZ3RoID0gdGhpcy4kcGFzcy52YWwoKS5sZW5ndGgsXG5cdFx0XHRcdGNvbmZfbGVuZ3RoID0gdGhpcy4kY29uZi52YWwoKS5sZW5ndGg7XG5cdFxuXHRcdFx0Ly8gaGlkZSB0aGUgbWV0ZXIgaWYgYm90aCBmaWVsZHMgYXJlIGVtcHR5XG5cdFx0XHRpZiAoICFwYXNzX2xlbmd0aCAmJiAhY29uZl9sZW5ndGggKSB7XG5cdFx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAndmFsaWQgaW52YWxpZCcgKTtcblx0XHRcdFx0JGNvbmZfZmllbGQucmVtb3ZlQ2xhc3MoICd2YWxpZCBpbnZhbGlkJyApO1xuXHRcdFx0XHR0aGlzLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XG5cdFx0XHRpZiAoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGhfc3RhdHVzKCkgKSB7XG5cdFx0XHRcdCRwYXNzX2ZpZWxkLnJlbW92ZUNsYXNzKCAnaW52YWxpZCcgKS5hZGRDbGFzcyggJ3ZhbGlkJyApO1xuXHRcdFx0XHRpZiAoIGNvbmZfbGVuZ3RoICkge1xuXHRcdFx0XHRcdCRjb25mX2ZpZWxkLnJlbW92ZUNsYXNzKCAnaW52YWxpZCcgKS5hZGRDbGFzcyggJ3ZhbGlkJyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkcGFzc19maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApLmFkZENsYXNzKCAnaW52YWxpZCcgKTtcblx0XHRcdFx0aWYgKCBjb25mX2xlbmd0aCApIHtcblx0XHRcdFx0XHQkY29uZl9maWVsZC5yZW1vdmVDbGFzcyggJ3ZhbGlkJyApLmFkZENsYXNzKCAnaW52YWxpZCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcblx0XHRcdHRoaXMuJG1ldGVyLnJlbW92ZUNsYXNzKCAndG9vLXNob3J0IHZlcnktd2VhayB3ZWFrIG1lZGl1bSBzdHJvbmcgbWlzbWF0Y2gnICk7XG5cdFx0XHR0aGlzLiRtZXRlci5zaG93KCkuYWRkQ2xhc3MoIHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoICdzbHVnJyApICk7XG5cdFx0XHR0aGlzLiRtZXRlci5odG1sKCB0aGlzLmdldF9jdXJyZW50X3N0cmVuZ3RoKCAndGV4dCcgKSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBmb3JtIHN1Ym1pc3Npb24gYWN0aW9uIGNhbGxlZCBkdXJpbmcgcmVnaXN0cmF0aW9uIG9uIGNoZWNrb3V0IHNjcmVlblxuXHRcdCAqIEBwYXJhbSAgICBvYmogICAgICAgc2VsZiAgICAgIGluc3RhbmNlIG9mIHRoaXMgY2xhc3Ncblx0XHQgKiBAcGFyYW0gICAgRnVuY3Rpb24gIGNhbGxiYWNrICBjYWxsYmFjayBmdW5jdGlvbiwgcGFzc2VzIGVycm9yIG1lc3NhZ2Ugb3Igc3VjY2VzcyBiYWNrIHRvIGNoZWNrb3V0IGhhbmRsZXJcblx0XHQgKiBAcmV0dXJuICAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGNoZWNrb3V0OiBmdW5jdGlvbiggc2VsZiwgY2FsbGJhY2sgKSB7XG5cdFxuXHRcdFx0aWYgKCBzZWxmLmdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1cygpICkge1xuXHRcblx0XHRcdFx0Y2FsbGJhY2soIHRydWUgKTtcblx0XG5cdFx0XHR9IGVsc2Uge1xuXHRcblx0XHRcdFx0Y2FsbGJhY2soIExMTVMubDEwbi50cmFuc2xhdGUoICdUaGVyZSBpcyBhbiBpc3N1ZSB3aXRoIHlvdXIgY2hvc2VuIHBhc3N3b3JkLicgKSApO1xuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBsaXN0IG9mIGJsYWNrbGlzdGVkIHN0cmluZ3Ncblx0XHQgKiBXZSdsbCBhZGQgYSBmaWx0ZXIgdG8gdGhpcyBsYXRlciBzbyB0aGF0IGRldmVsb3BlcnMgY2FuIGFkZCB0aGVpciBvd24gYmxhY2tsaXN0IHRvIHRoZSBkZWZhdWx0IFdQIGxpc3Rcblx0XHQgKiBAcmV0dXJuIGFycmF5XG5cdFx0ICogQHNpbmNlIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X2JsYWNrbGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgYmxhY2tsaXN0ID0gd3AucGFzc3dvcmRTdHJlbmd0aC51c2VySW5wdXRCbGFja2xpc3QoKTtcblx0XHRcdHJldHVybiBibGFja2xpc3Q7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmUgY3VycmVudCBzdHJlbmd0aCBhcyBhIG51bWJlciwgYSBzbHVnLCBvciBhIHRyYW5zbGF0ZWQgdGV4dCBzdHJpbmdcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgZm9ybWF0ICBkZXJpdmVkIHJldHVybiBmb3JtYXQgW2ludHxzbHVnfHRleHRdIGRlZmF1bHRzIHRvIGludFxuXHRcdCAqIEByZXR1cm4gICBtaXhlZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9jdXJyZW50X3N0cmVuZ3RoOiBmdW5jdGlvbiggZm9ybWF0ICkge1xuXHRcblx0XHRcdGZvcm1hdCA9IGZvcm1hdCB8fCAnaW50Jztcblx0XHRcdHZhciBwYXNzID0gdGhpcy4kcGFzcy52YWwoKSxcblx0XHRcdFx0Y29uZiA9IHRoaXMuJGNvbmYudmFsKCksXG5cdFx0XHRcdHZhbDtcblx0XG5cdFx0XHQvLyBlbmZvcmNlIGN1c3RvbSBsZW5ndGggcmVxdWlyZW1lbnRcblx0XHRcdGlmICggcGFzcy5sZW5ndGggPCA2ICkge1xuXHRcdFx0XHR2YWwgPSAtMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhbCA9IHdwLnBhc3N3b3JkU3RyZW5ndGgubWV0ZXIoIHBhc3MsIHRoaXMuZ2V0X2JsYWNrbGlzdCgpLCBjb25mICk7XG5cdFx0XHRcdC8vIDAgJiAxIGFyZSBib3RoIHZlcnktd2Vha1xuXHRcdFx0XHRpZiAoIDAgPT09IHZhbCApIHtcblx0XHRcdFx0XHR2YWwgPSAxO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAnc2x1ZycgPT09IGZvcm1hdCApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0X3N0cmVuZ3RoX3NsdWcoIHZhbCApO1xuXHRcdFx0fSBlbHNlIGlmICggJ3RleHQnID09PSBmb3JtYXQgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmdldF9zdHJlbmd0aF90ZXh0KCB2YWwgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiB2YWw7XG5cdFx0XHR9XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRGV0ZXJtaW5lcyBpZiB0aGUgY3VycmVudCBwYXNzd29yZCBzdHJlbmd0aCBtZWV0cyB0aGUgdXNlci1kZWZpbmVkXG5cdFx0ICogbWluaW11bSBwYXNzd29yZCBzdHJlbmd0aCByZXF1aXJlbWVudHNcblx0XHQgKiBAcmV0dXJuICAgYm9vbGVhblxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9jdXJyZW50X3N0cmVuZ3RoX3N0YXR1czogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgY3VyciA9IHRoaXMuZ2V0X2N1cnJlbnRfc3RyZW5ndGgoKSxcblx0XHRcdFx0bWluID0gdGhpcy5nZXRfc3RyZW5ndGhfdmFsdWUoIHRoaXMuZ2V0X21pbmltdW1fc3RyZW5ndGgoKSApO1xuXHRcdFx0cmV0dXJuICggNSA9PT0gY3VyciApID8gZmFsc2UgOiAoIGN1cnIgPj0gbWluICk7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBzbHVnIGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICogQHBhcmFtICAgIGludCAgIHN0cmVuZ3RoX3ZhbCAgc3RyZW5ndGggdmFsdWUgbnVtYmVyXG5cdFx0ICogQHJldHVybiAgIHN0cmluZ1xuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjAuMFxuXHRcdCAqL1xuXHRcdGdldF9zdHJlbmd0aF9zbHVnOiBmdW5jdGlvbiggc3RyZW5ndGhfdmFsICkge1xuXHRcblx0XHRcdHZhciBzbHVncyA9IHtcblx0XHRcdFx0Jy0xJzogJ3Rvby1zaG9ydCcsXG5cdFx0XHRcdDE6ICd2ZXJ5LXdlYWsnLFxuXHRcdFx0XHQyOiAnd2VhaycsXG5cdFx0XHRcdDM6ICdtZWRpdW0nLFxuXHRcdFx0XHQ0OiAnc3Ryb25nJyxcblx0XHRcdFx0NTogJ21pc21hdGNoJyxcblx0XHRcdH07XG5cdFxuXHRcdFx0cmV0dXJuICggc2x1Z3NbIHN0cmVuZ3RoX3ZhbCBdICkgPyBzbHVnc1sgc3RyZW5ndGhfdmFsIF0gOiBzbHVnc1s1XTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0cyB0aGUgdHJhbnNsYXRlZCB0ZXh0IGFzc29jaWF0ZWQgd2l0aCBhIHN0cmVuZ3RoIHZhbHVlXG5cdFx0ICogQHBhcmFtICAgIGludCAgc3RyZW5ndGhfdmFsICBzdHJlbmd0aCB2YWx1ZVxuXHRcdCAqIEByZXR1cm4gICBzdHJpbmdcblx0XHQgKiBAc2luY2UgICAgMy4wLjBcblx0XHQgKiBAdmVyc2lvbiAgMy4wLjBcblx0XHQgKi9cblx0XHRnZXRfc3RyZW5ndGhfdGV4dDogZnVuY3Rpb24oIHN0cmVuZ3RoX3ZhbCApIHtcblx0XG5cdFx0XHR2YXIgdGV4dHMgPSB7XG5cdFx0XHRcdCctMSc6IExMTVMubDEwbi50cmFuc2xhdGUoICdUb28gU2hvcnQnICksXG5cdFx0XHRcdDE6IExMTVMubDEwbi50cmFuc2xhdGUoICdWZXJ5IFdlYWsnICksXG5cdFx0XHRcdDI6IExMTVMubDEwbi50cmFuc2xhdGUoICdXZWFrJyApLFxuXHRcdFx0XHQzOiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWVkaXVtJyApLFxuXHRcdFx0XHQ0OiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnU3Ryb25nJyApLFxuXHRcdFx0XHQ1OiBMTE1TLmwxMG4udHJhbnNsYXRlKCAnTWlzbWF0Y2gnICksXG5cdFx0XHR9O1xuXHRcblx0XHRcdHJldHVybiAoIHRleHRzWyBzdHJlbmd0aF92YWwgXSApID8gdGV4dHNbIHN0cmVuZ3RoX3ZhbCBdIDogdGV4dHNbNV07XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCB0aGUgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGEgc3RyZW5ndGggc2x1Z1xuXHRcdCAqIEBwYXJhbSAgICBzdHJpbmcgICBzdHJlbmd0aF9zbHVnICBhIHN0cmVuZ3RoIHNsdWdcblx0XHQgKiBAcmV0dXJuICAgaW50XG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0X3N0cmVuZ3RoX3ZhbHVlOiBmdW5jdGlvbiggc3RyZW5ndGhfc2x1ZyApIHtcblx0XG5cdFx0XHR2YXIgdmFsdWVzID0ge1xuXHRcdFx0XHQndG9vLXNob3J0JzogLTEsXG5cdFx0XHRcdCd2ZXJ5LXdlYWsnOiAxLFxuXHRcdFx0XHR3ZWFrOiAyLFxuXHRcdFx0XHRtZWRpdW06IDMsXG5cdFx0XHRcdHN0cm9uZzogNCxcblx0XHRcdFx0bWlzbWF0Y2g6IDUsXG5cdFx0XHR9O1xuXHRcblx0XHRcdHJldHVybiAoIHZhbHVlc1sgc3RyZW5ndGhfc2x1ZyBdICkgPyB2YWx1ZXNbIHN0cmVuZ3RoX3NsdWcgXSA6IHZhbHVlcy5taXNtYXRjaDtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogRm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgZm9yIHJlZ2lzdHJhdGlvbiBhbmQgdXBkYXRlIGZvcm1zXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICBlICAgICAgICAgZXZlbnQgZGF0YVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gIDMuMC4wXG5cdFx0ICovXG5cdFx0c3VibWl0OiBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IGUuZGF0YTtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHNlbGYuJHBhc3MudHJpZ2dlciggJ2tleXVwJyApO1xuXHRcblx0XHRcdGlmICggc2VsZi5nZXRfY3VycmVudF9zdHJlbmd0aF9zdGF0dXMoKSApIHtcblx0XHRcdFx0c2VsZi4kZm9ybS5vZmYoICdzdWJtaXQnLCBzZWxmLnN1Ym1pdCApO1xuXHRcdFx0XHRzZWxmLiRmb3JtLnRyaWdnZXIoICdzdWJtaXQnICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCAnaHRtbCwgYm9keScgKS5hbmltYXRlKCB7XG5cdFx0XHRcdFx0c2Nyb2xsVG9wOiBzZWxmLiRtZXRlci5vZmZzZXQoKS50b3AgLSAxMDAsXG5cdFx0XHRcdH0sIDIwMCApO1xuXHRcdFx0XHRzZWxmLiRtZXRlci5oaWRlKCk7XG5cdFx0XHRcdHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuJG1ldGVyLmZhZGVJbiggNDAwICk7XG5cdFx0XHRcdH0sIDIyMCApO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdH0gKTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0LyoganNoaW50IHN0cmljdDogZmFsc2UgKi9cblx0LyoqXG5cdCAqIFByaWNpbmcgVGFibGUgVUlcblx0ICovXG5cdExMTVMuUHJpY2luZ19UYWJsZXMgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIGluaXRcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFxuXHRcdFx0aWYgKCAkKCAnYm9keScgKS5oYXNDbGFzcyggJ3dwLWFkbWluJyApICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFxuXHRcdFx0aWYgKCAkKCAnLmxsbXMtYWNjZXNzLXBsYW5zJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdExMTVMud2FpdF9mb3JfbWF0Y2hIZWlnaHQoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYuYmluZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0XHR0aGlzLiRsb2NrZWQgPSAkKCAnYVtocmVmPVwiI2xsbXMtcGxhbi1sb2NrZWRcIl0nICk7XG5cdFxuXHRcdFx0XHRpZiAoIHRoaXMuJGxvY2tlZC5sZW5ndGggKSB7XG5cdFxuXHRcdFx0XHRcdExMTVMud2FpdF9mb3JfcG9wb3ZlciggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRzZWxmLmJpbmRfbG9ja2VkKCk7XG5cdFx0XHRcdFx0fSApO1xuXHRcblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBNZXRob2Rcblx0XHQgKiBIYW5kbGVzIGRvbSBiaW5kaW5nIG9uIGxvYWRcblx0XHQgKiBAcmV0dXJuIHtbdHlwZV19IFtkZXNjcmlwdGlvbl1cblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHQkKCAnLmxsbXMtYWNjZXNzLXBsYW4tY29udGVudCcgKS5tYXRjaEhlaWdodCgpO1xuXHRcdFx0JCggJy5sbG1zLWFjY2Vzcy1wbGFuLXByaWNpbmcudHJpYWwnICkubWF0Y2hIZWlnaHQoKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogU2V0dXAgYSBwb3BvdmVyIGZvciBtZW1iZXJzLW9ubHkgcmVzdHJpY3RlZCBwbGFuc1xuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqIEBzaW5jZSAgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjkuMVxuXHRcdCAqL1xuXHRcdGJpbmRfbG9ja2VkOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR0aGlzLiRsb2NrZWQuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHQkKCB0aGlzICkud2VidWlQb3BvdmVyKCB7XG5cdFx0XHRcdFx0YW5pbWF0aW9uOiAncG9wJyxcblx0XHRcdFx0XHRjbG9zZWFibGU6IHRydWUsXG5cdFx0XHRcdFx0Y29udGVudDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRcdFx0XHR2YXIgJGNvbnRlbnQgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtbWVtYmVycy1vbmx5LXJlc3RyaWN0aW9uc1wiIC8+JyApO1xuXHRcdFx0XHRcdFx0JGNvbnRlbnQuYXBwZW5kKCBlLiRlbGVtZW50LmNsb3Nlc3QoICcubGxtcy1hY2Nlc3MtcGxhbicgKS5maW5kKCAnLmxsbXMtYWNjZXNzLXBsYW4tcmVzdHJpY3Rpb25zIHVsJyApLmNsb25lKCkgKTtcblx0XHRcdFx0XHRcdHJldHVybiAkY29udGVudDtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHBsYWNlbWVudDogJ3RvcCcsXG5cdFx0XHRcdFx0c3R5bGU6ICdpbnZlcnNlJyxcblx0XHRcdFx0XHR0aXRsZTogTExNUy5sMTBuLnRyYW5zbGF0ZSggJ01lbWJlcnMgT25seSBQcmljaW5nJyApLFxuXHRcdFx0XHRcdHdpZHRoOiAnMjgwcHgnLFxuXHRcdFx0XHR9ICk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQsIGpRdWVyeSAqL1xuXHQvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqL1xuXHQvKmpzaGludCAtVzAyMCAqL1xuXHRcblx0TExNUy5SZXZpZXcgPSB7XG5cdFx0LyoqXG5cdFx0ICogaW5pdFxuXHRcdCAqIGxvYWRzIGNsYXNzIG1ldGhvZHNcblx0XHQgKi9cblx0XHRpbml0OiBmdW5jdGlvbigpXG5cdFx0e1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJ0luaXRpYWxpemluZyBSZXZpZXcgJyk7XG5cdFx0XHR0aGlzLmJpbmQoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBUaGlzIGZ1bmN0aW9uIGJpbmRzIGFjdGlvbnMgdG8gdGhlIGFwcHJvcHJpYXRlIGhvb2tzXG5cdFx0ICovXG5cdFx0YmluZDogZnVuY3Rpb24oKVxuXHRcdHtcblx0XHRcdCQoJyNsbG1zX3Jldmlld19zdWJtaXRfYnV0dG9uJykuY2xpY2soZnVuY3Rpb24oKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoJCgnI3Jldmlld190aXRsZScpLnZhbCgpICE9PSAnJyAmJiAkKCcjcmV2aWV3X3RleHQnKS52YWwoKSAhPT0gJycpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRqUXVlcnkuYWpheCh7XG5cdFx0XHQgICAgICAgICAgICB0eXBlIDogJ3Bvc3QnLFxuXHRcdFx0ICAgICAgICAgICAgZGF0YVR5cGUgOiAnanNvbicsXG5cdFx0XHQgICAgICAgICAgICB1cmwgOiB3aW5kb3cubGxtcy5hamF4dXJsLFxuXHRcdFx0ICAgICAgICAgICAgZGF0YSA6IHtcblx0XHRcdCAgICAgICAgICAgIFx0YWN0aW9uIDogJ0xMTVNTdWJtaXRSZXZpZXcnLFxuXHRcdFx0ICAgICAgICAgICAgICAgIHJldmlld190aXRsZTogJCgnI3Jldmlld190aXRsZScpLnZhbCgpLFxuXHRcdFx0ICAgICAgICAgICAgICAgIHJldmlld190ZXh0OiAkKCcjcmV2aWV3X3RleHQnKS52YWwoKSxcblx0XHRcdCAgICAgICAgICAgICAgICBwYWdlSUQgOiAkKCcjcG9zdF9JRCcpLnZhbCgpXG5cdFx0XHQgICAgICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKVxuXHRcdFx0ICAgICAgICAgICAge1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXZpZXcgc3VjY2VzcycpO1xuXHRcdFx0ICAgICAgICAgICAgICAgICQoJyNyZXZpZXdfYm94JykuaGlkZSgnc3dpbmcnKTtcblx0XHRcdCAgICAgICAgICAgICAgICAkKCcjdGhhbmtfeW91X2JveCcpLnNob3coJ3N3aW5nJyk7XG5cdFx0XHQgICAgICAgICAgICB9LFxuXHRcdFx0ICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzLCBlcnJvclRocm93biApXG5cdFx0XHQgICAgICAgICAgICB7XG5cdFx0XHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coanFYSFIpO1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRleHRTdGF0dXMpO1xuXHRcdFx0ICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yVGhyb3duKTtcblx0XHRcdCAgICAgICAgICAgIH0sXG5cdFx0XHQgICAgICAgIH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmICgkKCcjcmV2aWV3X3RpdGxlJykudmFsKCkgPT09ICcnKVxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdCQoJyNyZXZpZXdfdGl0bGVfZXJyb3InKS5zaG93KCdzd2luZycpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RpdGxlX2Vycm9yJykuaGlkZSgnc3dpbmcnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCQoJyNyZXZpZXdfdGV4dCcpLnZhbCgpID09PSAnJylcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RleHRfZXJyb3InKS5zaG93KCdzd2luZycpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHQkKCcjcmV2aWV3X3RleHRfZXJyb3InKS5oaWRlKCdzd2luZycpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRpZiAoICQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5hdHRyKCdjaGVja2VkJykgKSB7XG5cdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcpLmFkZENsYXNzKCd0b3AnKTtcblx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJykuc2hvdygpO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLWJvdHRvbScpLmhpZGUoKTtcblx0XHRcdH1cblx0XHRcdCQoJyNfbGxtc19kaXNwbGF5X3Jldmlld3MnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggJCgnI19sbG1zX2Rpc3BsYXlfcmV2aWV3cycpLmF0dHIoJ2NoZWNrZWQnKSApIHtcblx0XHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy10b3AnKS5hZGRDbGFzcygndG9wJyk7XG5cdFx0XHRcdFx0JCgnLmxsbXMtbnVtLXJldmlld3MtYm90dG9tJykuc2hvdygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdCQoJy5sbG1zLW51bS1yZXZpZXdzLXRvcCcpLnJlbW92ZUNsYXNzKCd0b3AnKTtcblx0XHRcdFx0XHQkKCcubGxtcy1udW0tcmV2aWV3cy1ib3R0b20nKS5oaWRlKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcblx0XHR9LFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHRcblx0LyoqXG5cdCAqIEFkZCBTcGlubmVycyBmb3IgQUpBWCBldmVudHNcblx0ICogQHNpbmNlIDMuMC4wXG5cdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdCAqL1xuXHRMTE1TLlNwaW5uZXIgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIEdldCBhbiBleGl0aW5nIHNwaW5uZXIgZWxlbWVudCBvciBjcmVhdGUgYSBuZXcgb25lXG5cdFx0ICogQHBhcmFtICAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdFx0ICogQHBhcmFtICAgIHN0cmluZyAgIHNpemUgIHNpemUgb3IgdGhlIHNwaW5uZXIgW2RlZmF1bHR8c21hbGxdXG5cdFx0ICogICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQgaXMgNDBweFxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFsbCBpcyAyMHB4XG5cdFx0ICogQHJldHVybiAgIG9ialxuXHRcdCAqIEBzaW5jZSAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0Z2V0OiBmdW5jdGlvbiggJGVsLCBzaXplICkge1xuXHRcblx0XHRcdC8vIGxvb2sgZm9yIGFuIGV4aXN0aW5nIHNwaW5uZXJcblx0XHRcdHZhciAkc3Bpbm5lciA9ICRlbC5maW5kKCAnLmxsbXMtc3Bpbm5pbmcnICkuZmlyc3QoKTtcblx0XG5cdFx0XHQvLyBubyBzcGlubmVyIGluc2lkZSAkZWxcblx0XHRcdGlmICggISRzcGlubmVyLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHNpemUgPSAoIHNpemUgKSA/IHNpemUgOiAnZGVmYXVsdCc7XG5cdFxuXHRcdFx0XHQvLyBjcmVhdGUgdGhlIHNwaW5uZXJcblx0XHRcdFx0JHNwaW5uZXIgPSAkKCAnPGRpdiBjbGFzcz1cImxsbXMtc3Bpbm5pbmdcIj48aSBjbGFzcz1cImxsbXMtc3Bpbm5lciAnICsgc2l6ZSArICdcIj48L2k+PC9kaXY+JyApO1xuXHRcblx0XHRcdFx0Ly8gYWRkIGl0IHRvIHRoZSBkb21cblx0XHRcdFx0JGVsLmFwcGVuZCggJHNwaW5uZXIgKTtcblx0XG5cdFx0XHR9XG5cdFxuXHRcdFx0Ly8gcmV0dXJuIGl0XG5cdFx0XHRyZXR1cm4gJHNwaW5uZXI7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0YXJ0IHNwaW5uZXIocykgaW5yPXNpZGUgYSBnaXZlbiBlbGVtZW50XG5cdFx0ICogQ3JlYXRlcyB0aGVtIGlmIHRoZXkgZG9uJ3QgZXhpc3QhXG5cdFx0ICogQHBhcmFtICAgb2JqICAgICAgJGVsICAgalF1ZXJ5IHNlbGVjdG9yIG9mIHRoZSBwYXJlbnQgZWxlbWVudCB0aGF0IHNob3VsZCBob2xkIGFuZCBiZSBtYXNlZCBieSBhIHNwaW5uZXJcblx0XHQgKiBAcGFyYW0gICBzdHJpbmcgICBzaXplICBzaXplIG9yIHRoZSBzcGlubmVyIFtkZWZhdWx0fHNtYWxsXVxuXHRcdCAqICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0IGlzIDQwcHhcblx0XHQgKiAgICAgICAgICAgICAgICAgICAgICAgICAgc21hbGwgaXMgMjBweFxuXHRcdCAqIEByZXR1cm4gIHZvaWRcblx0XHQgKiBAc2luY2UgICAzLjAuMFxuXHRcdCAqIEB2ZXJzaW9uIDMuMC4wXG5cdFx0ICovXG5cdFx0c3RhcnQ6IGZ1bmN0aW9uKCAkZWwsIHNpemUgKSB7XG5cdFxuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcblx0XHRcdCRlbC5lYWNoKCBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHRcdHNlbGYuZ2V0KCAkKCB0aGlzICksIHNpemUgKS5zaG93KCk7XG5cdFxuXHRcdFx0fSApO1xuXHRcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBTdG9yZSBzcGlubmVycyB3aXRoaW4gYW4gZWxlbWVudFxuXHRcdCAqIEBwYXJhbSAgIG9iaiAgICAgICRlbCAgIGpRdWVyeSBzZWxlY3RvciBvZiB0aGUgcGFyZW50IGVsZW1lbnQgdGhhdCBzaG91bGQgaG9sZCBhbmQgYmUgbWFzZWQgYnkgYSBzcGlubmVyXG5cdFx0ICogQHJldHVybiAgdm9pZFxuXHRcdCAqIEBzaW5jZSAgIDMuMC4wXG5cdFx0ICogQHZlcnNpb24gMy4wLjBcblx0XHQgKi9cblx0XHRzdG9wOiBmdW5jdGlvbiggJGVsICkge1xuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XG5cdFx0XHQkZWwuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0XHRzZWxmLmdldCggJCggdGhpcyApICkuaGlkZSgpO1xuXHRcblx0XHRcdH0gKTtcblx0XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cdFx0LyogZ2xvYmFsIExMTVMsICQgKi9cblx0XG5cdC8qKlxuXHQgKiBTdG9yZSBpbmZvcm1hdGlvbiBpbiBMb2NhbCBTdG9yYWdlIGJ5IGdyb3VwLlxuXHQgKlxuXHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdCAqXG5cdCAqIEBwYXJhbSBzdHJpbmcgZ3JvdXAgU3RvcmFnZSBncm91cCBpZC9uYW1lLlxuXHQgKi9cblx0TExNUy5TdG9yYWdlID0gZnVuY3Rpb24oIGdyb3VwLCBwZXJzaXN0ICkge1xuXHRcblx0XHR2YXIgc3RvcmUgPSB3aW5kb3cubG9jYWxTdG9yYWdlO1xuXHRcblx0XHQvKipcblx0XHQgKiBSZXRyaWV2ZSAoYW5kIHBhcnNlKSBhbGwgZGF0YSBzdG9yZWQgZm9yIHRoZSBncm91cC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gb2JqXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZ2V0QWxsKCkge1xuXHRcdFx0cmV0dXJuIEpTT04ucGFyc2UoIHN0b3JlLmdldEl0ZW0oIGdyb3VwICkgKSB8fCB7fTtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENsZWFyIGxvY2FsIHN0b3JhZ2UgZm9yIHRoZSBncm91cC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdHRoaXMuY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdHN0b3JlLnJlbW92ZUl0ZW0oIGdyb3VwICk7XG5cdFx0fTtcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmUgYW4gaXRlbSBmcm9tIHRoZSBncm91cCBieSBrZXkuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gc3RyaW5nIGtleSBJdGVtIGtleS9uYW1lLlxuXHRcdCAqIEBwYXJhbSBtaXhlZCBkZWZhdWx0X3ZhbCBJdGVtIGRlZmF1bHQgdmFsdWUgdG8gYmUgcmV0dXJuZWQgd2hlbiBpdGVtIG5vdCBmb3VuZCBpbiB0aGUgZ3JvdXAuXG5cdFx0ICogQHJldHVybiBtaXhlZFxuXHRcdCAqL1xuXHRcdHRoaXMuZ2V0ID0gZnVuY3Rpb24oIGtleSwgZGVmYXVsdF92YWwgKSB7XG5cdFx0XHR2YXIgZGF0YSA9IGdldEFsbCgpO1xuXHRcdFx0cmV0dXJuIGRhdGFbIGtleSBdID8gZGF0YVsga2V5IF0gOiBkZWZhdWx0X3ZhbDtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFN0b3JlIGFuIGl0ZW0gaW4gdGhlIGdyb3VwIGJ5IGtleS5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzdHJpbmcga2V5IEl0ZW0ga2V5IG5hbWUuXG5cdFx0ICogQHBhcmFtIG1peGVkIHZhbCBJdGVtIHZhbHVlXG5cdFx0ICogQHJldHVybiB2b2lkXG5cdFx0ICovXG5cdFx0dGhpcy5zZXQgPSBmdW5jdGlvbigga2V5LCB2YWwgKSB7XG5cdFx0XHR2YXIgZGF0YSA9IGdldEFsbCgpO1xuXHRcdFx0ZGF0YVsga2V5IF0gPSB2YWw7XG5cdFx0XHRzdG9yZS5zZXRJdGVtKCBncm91cCwgSlNPTi5zdHJpbmdpZnkoIGRhdGEgKSApO1xuXHRcdH07XG5cdFxuXHR9XG5cdFxuXHRcdC8qIGdsb2JhbCBMTE1TLCAkICovXG5cdFxuXHQvKipcblx0ICogU3R1ZGVudCBEYXNoYm9hcmQgcmVsYXRlZCBKU1xuXHQgKiBAdHlwZSAge09iamVjdH1cblx0ICogQHNpbmNlICAgIDMuNy4wXG5cdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0ICovXG5cdExMTVMuU3R1ZGVudERhc2hib2FyZCA9IHtcblx0XG5cdFx0LyoqXG5cdFx0ICogU2x1ZyBmb3IgdGhlIGN1cnJlbnQgc2NyZWVuL2VuZHBvaW50XG5cdFx0ICogQHR5cGUgIHtTdHJpbmd9XG5cdFx0ICovXG5cdFx0c2NyZWVuOiAnJyxcblx0XG5cdFx0LyoqXG5cdFx0ICogV2lsbCBzaG93IHRoZSBudW1iZXIgb2YgbWV0ZXJzIG9uIHRoZSBwYWdlXG5cdFx0ICogVXNlZCB0byBjb25kaXRpb25hbGx5IGJpbmQgbWV0ZXItcmVsYXRlZCBldmVudHMgb25seSB3aGVuIG1ldGVyc1xuXHRcdCAqIGFjdHVhbGx5IGV4aXN0XG5cdFx0ICogQHR5cGUgIGludFxuXHRcdCAqL1xuXHRcdG1ldGVyX2V4aXN0czogMCxcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuMTAuMFxuXHRcdCAqL1xuXHRcdGluaXQ6IGZ1bmN0aW9uKCkge1xuXHRcblx0XHRcdGlmICggJCggJy5sbG1zLXN0dWRlbnQtZGFzaGJvYXJkJyApLmxlbmd0aCApIHtcblx0XG5cdFx0XHRcdHRoaXMubWV0ZXJfZXhpc3RzID0gJCggJy5sbG1zLXBhc3N3b3JkLXN0cmVuZ3RoLW1ldGVyJyApLmxlbmd0aDtcblx0XHRcdFx0dGhpcy5iaW5kKCk7XG5cdFxuXHRcdFx0XHRpZiAoICdvcmRlcnMnID09PSB0aGlzLmdldF9zY3JlZW4oKSApIHtcblx0XG5cdFx0XHRcdFx0dGhpcy5iaW5kX29yZGVycygpO1xuXHRcblx0XHRcdFx0fVxuXHRcblx0XHRcdH1cblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogQmluZCBET00gZXZlbnRzXG5cdFx0ICogQHJldHVybiAgIHZvaWRcblx0XHQgKiBAc2luY2UgICAgMy43LjBcblx0XHQgKiBAdmVyc2lvbiAgMy43LjRcblx0XHQgKi9cblx0XHRiaW5kOiBmdW5jdGlvbigpIHtcblx0XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdCR0b2dnbGUgPSAkKCAnLmxsbXMtc3R1ZGVudC1kYXNoYm9hcmQgYVtocmVmPVwiI2xsbXMtcGFzc3dvcmQtY2hhbmdlLXRvZ2dsZVwiXScgKTtcblx0XG5cdFx0XHQvLyBjbGljayBldmVudCBmb3IgdGhlIGNoYW5nZSBwYXNzd29yZCBsaW5rXG5cdFx0XHQkdG9nZ2xlLm9uKCAnY2xpY2snLCBmdW5jdGlvbiggZSApIHtcblx0XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XG5cdFx0XHRcdHZhciAkdGhpcyA9ICQoIHRoaXMgKSxcblx0XHRcdFx0XHRjdXJyX3RleHQgPSAkdGhpcy50ZXh0KCksXG5cdFx0XHRcdFx0Y3Vycl9hY3Rpb24gPSAkdGhpcy5hdHRyKCAnZGF0YS1hY3Rpb24nICksXG5cdFx0XHRcdFx0bmV3X2FjdGlvbiA9ICdoaWRlJyA9PT0gY3Vycl9hY3Rpb24gPyAnc2hvdycgOiAnaGlkZScsXG5cdFx0XHRcdFx0bmV3X3RleHQgPSAkdGhpcy5hdHRyKCAnZGF0YS10ZXh0JyApO1xuXHRcblx0XHRcdFx0c2VsZi5wYXNzd29yZF90b2dnbGUoIGN1cnJfYWN0aW9uICk7XG5cdFxuXHRcdFx0XHQvLyBwcmV2ZW50IGFjY2lkZW50YWwgY2FuY2VscyB3aGVuIHVzZXJzIHRhYiBvdXQgb2YgdGhlIGNvbmZpcm0gcGFzc3dvcmQgZmllbGRcblx0XHRcdFx0Ly8gYW5kIGV4cGVjdCB0byBoaXQgc3VibWl0IHdpdGggZW50ZXIga2V5IGltbWVkaWF0ZWx5IGFmdGVyXG5cdFx0XHRcdGlmICggJ3Nob3cnID09PSBjdXJyX2FjdGlvbiApIHtcblx0XHRcdFx0XHQkdGhpcy5hdHRyKCAndGFiaW5kZXgnLCAnLTc3NycgKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkdGhpcy5yZW1vdmVBdHRyKCAndGFiaW5kZXgnICk7XG5cdFx0XHRcdH1cblx0XG5cdFx0XHRcdCR0aGlzLmF0dHIoICdkYXRhLWFjdGlvbicsIG5ld19hY3Rpb24gKS5hdHRyKCAnZGF0YS10ZXh0JywgY3Vycl90ZXh0ICkudGV4dCggbmV3X3RleHQgKTtcblx0XG5cdFx0XHR9ICk7XG5cdFxuXHRcdFx0Ly8gdGhpcyB3aWxsIHJlbW92ZSB0aGUgcmVxdWlyZWQgYnkgZGVmYXVsdCB3aXRob3V0IGhhdmluZyB0byBtZXNzIHdpdGhcblx0XHRcdC8vIGNvbmRpdGlvbmFscyBpbiBQSFAgYW5kIHN0aWxsIGFsbG93cyB0aGUgcmVxdWlyZWQgKiB0byBzaG93IGluIHRoZSBsYWJlbFxuXHRcblx0XHRcdGlmICggdGhpcy5tZXRlcl9leGlzdHMgKSB7XG5cdFxuXHRcdFx0XHQkKCAnLmxsbXMtcGVyc29uLWZvcm0uZWRpdC1hY2NvdW50JyApLm9uKCAnbGxtcy1wYXNzd29yZC1zdHJlbmd0aC1yZWFkeScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHNlbGYucGFzc3dvcmRfdG9nZ2xlKCAnaGlkZScgKTtcblx0XHRcdFx0fSApO1xuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFxuXHRcdFx0XHRzZWxmLnBhc3N3b3JkX3RvZ2dsZSggJ2hpZGUnICk7XG5cdFxuXHRcdFx0fVxuXHRcblx0XHRcdCQoICcubGxtcy1kb251dCcgKS5lYWNoKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0TExNUy5Eb251dCggJCggdGhpcyApICk7XG5cdFx0XHR9ICk7XG5cdFxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIEJpbmQgZXZlbnRzIHJlbGF0ZWQgdG8gdGhlIG9yZGVycyBzY3JlZW4gb24gdGhlIGRhc2hib2FyZFxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRiaW5kX29yZGVyczogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdFx0JCggJyNsbG1zLWNhbmNlbC1zdWJzY3JpcHRpb24tZm9ybScgKS5vbiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdCQoICcjbGxtc191cGRhdGVfcGF5bWVudF9tZXRob2QnICkub24oICdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKCAnaW5wdXRbbmFtZT1cImxsbXNfcGF5bWVudF9nYXRld2F5XCJdOmNoZWNrZWQnICkudHJpZ2dlciggJ2NoYW5nZScgKTtcblx0XHRcdFx0JCggdGhpcyApLmNsb3Nlc3QoICdmb3JtJyApLmZpbmQoICcubGxtcy1zd2l0Y2gtcGF5bWVudC1zb3VyY2UtbWFpbicgKS5zbGlkZVRvZ2dsZSggJzIwMCcgKTtcblx0XHRcdH0gKTtcblx0XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogR2V0IHRoZSBjdXJyZW50IGRhc2hib2FyZCBlbmRwb2ludC90YWIgc2x1Z1xuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRnZXRfc2NyZWVuOiBmdW5jdGlvbigpIHtcblx0XHRcdGlmICggIXRoaXMuc2NyZWVuICkge1xuXHRcdFx0XHR0aGlzLnNjcmVlbiA9ICQoICcubGxtcy1zdHVkZW50LWRhc2hib2FyZCcgKS5hdHRyKCAnZGF0YS1jdXJyZW50JyApO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHRoaXMuc2NyZWVuO1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNob3cgYSBjb25maXJtYXRpb24gd2FybmluZyB3aGVuIENhbmNlbCBTdWJzY3JpcHRpb24gZm9ybSBpcyBzdWJtaXR0ZWRcblx0XHQgKiBAcGFyYW0gICAgb2JqICAgZSAgSlMgZXZlbnQgZGF0YVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuMTAuMFxuXHRcdCAqIEB2ZXJzaW9uICAzLjEwLjBcblx0XHQgKi9cblx0XHRvcmRlcl9jYW5jZWxfd2FybmluZzogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR2YXIgbXNnID0gTExNUy5sMTBuLnRyYW5zbGF0ZSggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjYW5jZWwgeW91ciBzdWJzY3JpcHRpb24/JyApO1xuXHRcdFx0aWYgKCB3aW5kb3cuY29uZmlybSggTExNUy5sMTBuLnRyYW5zbGF0ZSggbXNnICkgKSApIHtcblx0XHRcdFx0JCggdGhpcyApLm9mZiggJ3N1Ym1pdCcsIHRoaXMub3JkZXJfY2FuY2VsX3dhcm5pbmcgKTtcblx0XHRcdFx0JCggdGhpcyApLnN1Ym1pdCgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFRvZ2dsZSBwYXNzd29yZCByZWxhdGVkIGZpZWxkcyBvbiB0aGUgYWNjb3VudCBlZGl0IHBhZ2Vcblx0XHQgKiBAcGFyYW0gICAgc3RyaW5nICAgYWN0aW9uICBbc2hvd3xoaWRlXVxuXHRcdCAqIEByZXR1cm4gICB2b2lkXG5cdFx0ICogQHNpbmNlICAgIDMuNy4wXG5cdFx0ICogQHZlcnNpb24gIDMuNy40XG5cdFx0ICovXG5cdFx0cGFzc3dvcmRfdG9nZ2xlOiBmdW5jdGlvbiggYWN0aW9uICkge1xuXHRcblx0XHRcdGlmICggIWFjdGlvbiApIHtcblx0XHRcdFx0YWN0aW9uID0gJ3Nob3cnO1xuXHRcdFx0fVxuXHRcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0JHB3ZHMgPSAkKCAnI3Bhc3N3b3JkLCAjcGFzc3dvcmRfY29uZmlybSwgI2N1cnJlbnRfcGFzc3dvcmQnICksXG5cdFx0XHRcdCRmb3JtID0gJCggJyNwYXNzd29yZCcgKS5jbG9zZXN0KCAnZm9ybScgKTtcblx0XG5cdFx0XHQvLyBoaWRlIG9yIHNob3cgdGhlIGZpZWxkc1xuXHRcdFx0JCggJy5sbG1zLWNoYW5nZS1wYXNzd29yZCcgKVsgYWN0aW9uIF0oKTtcblx0XG5cdFx0XHRpZiAoICdzaG93JyA9PT0gYWN0aW9uICkge1xuXHRcdFx0XHQvLyBtYWtlIHBhc3N3b3JkcyByZXF1aXJlZFxuXHRcdFx0XHQkcHdkcy5hdHRyKCAncmVxdWlyZWQnLCAncmVxdWlyZWQnICk7XG5cdFxuXHRcdFx0XHRpZiAoIHNlbGYubWV0ZXJfZXhpc3RzICkge1xuXHRcdFx0XHRcdC8vIGFkZCB0aGUgc3RyZW5ndGggY2hlY2sgb24gZm9ybSBzdWJtaXNzaW9uXG5cdFx0XHRcdFx0JGZvcm0ub24oICdzdWJtaXQnLCBMTE1TLlBhc3N3b3JkU3RyZW5ndGgsIExMTVMuUGFzc3dvcmRTdHJlbmd0aC5zdWJtaXQgKTtcblx0XHRcdFx0fVxuXHRcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHJlbW92ZSByZXF1aXJlbWVudCBzbyBmb3JtIGNhbiBiZSBzdWJtaXR0ZWQgd2hpbGUgZmllbGRzIGFyZSBoaWRkZW5cblx0XHRcdFx0Ly8gYW5kIGNsZWFyIHRoZSBwYXNzd29yZCBvdXQgb2YgdGhlIGZpZWxkcyBpZiB0eXBpbmcgc3RhcnRlZFxuXHRcdFx0XHQkcHdkcy5yZW1vdmVBdHRyKCAncmVxdWlyZWQnICkudmFsKCAnJyApO1xuXHRcblx0XHRcdFx0aWYgKCBzZWxmLm1ldGVyX2V4aXN0cyApIHtcblx0XG5cdFx0XHRcdFx0Ly8gcmVtb3ZlIHRoZSBwYXNzd29yZCBzdHJlbmd0aCBzdWJtaXNzaW9uIGNoZWNrXG5cdFx0XHRcdFx0JGZvcm0ub2ZmKCAnc3VibWl0JywgTExNUy5QYXNzd29yZFN0cmVuZ3RoLnN1Ym1pdCApO1xuXHRcdFx0XHRcdC8vIGNsZWFycyB0aGUgbWV0ZXJcblx0XHRcdFx0XHRMTE1TLlBhc3N3b3JkU3RyZW5ndGguY2hlY2tfc3RyZW5ndGgoKTtcblx0XG5cdFx0XHRcdH1cblx0XG5cdFx0XHR9XG5cdFxuXHRcdH0sXG5cdFxuXHR9O1xuXHRcblx0XHQvKiBnbG9iYWwgTExNUywgJCAqL1xuXHRcblx0LyoqXG5cdCAqIFVzZXIgZXZlbnQvaW50ZXJhY3Rpb24gdHJhY2tpbmcuXG5cdCAqXG5cdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0ICovXG5cdExMTVMuVHJhY2tpbmcgPSBmdW5jdGlvbigpIHtcblx0XG5cdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0c3RvcmUgPSBuZXcgTExNUy5TdG9yYWdlKCAnbGxtcy10cmFja2luZycgKTtcblx0XG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZSAvIEJpbmQgYWxsIHRyYWNraW5nIGV2ZW50IGxpc3RlbmVycy5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBpbml0KCkge1xuXHRcblx0XHRcdGNvbnNvbGUubG9nKCBzdG9yZS5nZXQoICdldmVudHMnICkgKTtcblx0XG5cdFx0XHQvLyBQYWdlIGxvYWQgZXZlbnQgZ29lcyBpbiBoZXJlIHNpbmNlIHRoaXMgYWxsIGxvYWRzIG9uIHBhZ2UgbG9hZC5cblx0XHRcdHNlbGYuYWRkRXZlbnQoICdwYWdlLmxvYWQnICk7XG5cdFxuXHRcdFx0Ly8gT3RoZXIgZXZlbnQgbGlzdGVuZXJzLlxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdiZWZvcmV1bmxvYWQnLCBvbkJlZm9yZVVubG9hZCApO1xuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICd1bmxvYWQnLCBvblVubG9hZCApO1xuXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UgKTtcblx0XG5cdFx0fTtcblx0XG5cdFx0LyoqXG5cdFx0ICogQWRkIGFuIGV2ZW50LlxuXHRcdCAqXG5cdFx0ICogQHNpbmNlIFt2ZXJzaW9uXVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHN0cmluZ3xvYmogZXZlbnQgRXZlbnQgSWQgKHR5cGUuZXZlbnQpIGFzIGEgZnVsbCBldmVudCBvYmplY3QgZnJvbSBgdGhpcy5tYWtlRXZlbnRPYmooKWAuXG5cdFx0ICogQHBhcmFtIGludCBvYmpfaWQgT3B0aW9uYWwgb2JqZWN0IElELlxuXHRcdCAqL1xuXHRcdHRoaXMuYWRkRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQsIG9ial9pZCApIHtcblx0XG5cdFx0XHRldmVudCA9ICdzdHJpbmcnID09PSB0eXBlb2YgZXZlbnQgPyBzZWxmLm1ha2VFdmVudE9iaiggZXZlbnQsIG9ial9pZCApIDogZXZlbnQ7XG5cdFxuXHRcdFx0dmFyIGFsbCA9IHN0b3JlLmdldCggJ2V2ZW50cycsIFtdICk7XG5cdFx0XHRhbGwucHVzaCggZXZlbnQgKTtcblx0XHRcdHN0b3JlLnNldCggJ2V2ZW50cycsIGFsbCApO1xuXHRcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZSBhbiBldmVudCBvYmplY3Qgc3VpdGFibGUgdG8gc2F2ZSBhcyBhbiBldmVudC5cblx0XHQgKlxuXHRcdCAqIEBzaW5jZSBbdmVyc2lvbl1cblx0XHQgKlxuXHRcdCAqIEBwYXJhbSBzdHJpbmcgZXZlbnQgRXZlbnQgaWQgKHR5cGUuZXZlbnQpIEVHOiBgcGFnZS5sb2FkYC5cblx0XHQgKiBAcGFyYW0gaW50IG9ial9pZCBPcHRpb25hbCBvYmplY3QgSUQuXG5cdFx0ICogQHJldHVybiBvYmpcblx0XHQgKi9cblx0XHR0aGlzLm1ha2VFdmVudE9iaiA9IGZ1bmN0aW9uKCBldmVudCwgb2JqX2lkICkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0b2JqX2lkOiBvYmpfaWQsXG5cdFx0XHRcdHVybDogd2luZG93LmxvY2F0aW9uLmhyZWYsXG5cdFx0XHRcdGV2ZW50OiBldmVudCxcblx0XHRcdFx0dGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwLFxuXHRcdFx0fTtcblx0XHR9XG5cdFxuXHRcblx0XHQvKipcblx0XHQgKiBSZW1vdmUgdGhlIHZpc2liaWxpdHkgY2hhbmdlIGV2ZW50IGxpc3RlbmVyIG9uIHdpbmRvdy5iZWZvcmV1bmxvYWRcblx0XHQgKlxuXHRcdCAqIFByZXZlbnRzIGFjdHVhbCB1bmxvYWRpbmcgZnJvbSByZWNvcmRpbmcgYSBibHVyIGV2ZW50IGZyb20gdGhlIHZpc2liaWxpdHkgY2hhbmdlIGxpc3RlbmVyXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG9uQmVmb3JlVW5sb2FkKCBlICkge1xuXHRcdFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3Zpc2liaWxpdHljaGFuZ2UnLCBvblZpc2liaWxpdHlDaGFuZ2UgKTtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlY29yZCBhIGBwYWdlLmV4aXRgIGV2ZW50IG9uIHdpbmRvdy51bmxvYWQuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG9uVW5sb2FkKCBlICkge1xuXHRcdFx0c2VsZi5hZGRFdmVudCggJ3BhZ2UuZXhpdCcgKTtcblx0XHR9XG5cdFxuXHRcdC8qKlxuXHRcdCAqIFJlY29yZCBgcGFnZS5ibHVyYCBhbmQgYHBhZ2UuZm9jdXNgIGV2ZW50cyB2aWEgZG9jdW1lbnQudmlzaWxpYml0eWNoYW5nZSBldmVudHMuXG5cdFx0ICpcblx0XHQgKiBAc2luY2UgW3ZlcnNpb25dXG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gb2JqIGUgSlMgZXZlbnQgb2JqZWN0LlxuXHRcdCAqIEByZXR1cm4gdm9pZFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSggZSApIHtcblx0XG5cdFx0XHR2YXIgZXZlbnQgPSBkb2N1bWVudC5oaWRkZW4gPyAncGFnZS5ibHVyJyA6ICdwYWdlLmZvY3VzJztcblx0XHRcdHNlbGYuYWRkRXZlbnQoIGV2ZW50ICk7XG5cdFxuXHRcdH1cblx0XG5cdFx0Ly8gR28uXG5cdFx0aW5pdCgpO1xuXHRcblx0fTtcblx0XG5cdHdpbmRvdy5sbG1zID0gd2luZG93LmxsbXMgfHwge307XG5cdGxsbXMudHJhY2tpbmcgPSBuZXcgTExNUy5UcmFja2luZygpO1xuXHRcblx0XHQvKmdsb2JhbCBMTE1TICovXG5cdC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovXG5cdFxuXHQvKipcblx0ICogUmVzdCBNZXRob2RzXG5cdCAqIE1hbmFnZXMgVVJMIGFuZCBSZXN0IG9iamVjdCBwYXJzaW5nXG5cdCAqIEB0eXBlIHtPYmplY3R9XG5cdCAqL1xuXHRMTE1TLlJlc3QgPSB7XG5cdFxuXHRcdC8qKlxuXHRcdCAqIGluaXRcblx0XHQgKiBsb2FkcyBjbGFzcyBtZXRob2RzXG5cdFx0ICovXG5cdFx0aW5pdDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmJpbmQoKTtcblx0XHR9LFxuXHRcblx0XHQvKipcblx0XHQgKiBCaW5kIE1ldGhvZFxuXHRcdCAqIEhhbmRsZXMgZG9tIGJpbmRpbmcgb24gbG9hZFxuXHRcdCAqIEByZXR1cm4ge1t0eXBlXX0gW2Rlc2NyaXB0aW9uXVxuXHRcdCAqL1xuXHRcdGJpbmQ6IGZ1bmN0aW9uKCkge1xuXHRcdH0sXG5cdFxuXHRcdC8qKlxuXHRcdCAqIFNlYXJjaGVzIGZvciBzdHJpbmcgbWF0Y2hlcyBpbiB1cmwgcGF0aFxuXHRcdCAqIEBwYXJhbSAge0FycmF5fSAgc3RyaW5ncyBbQXJyYXkgb2Ygc3RyaW5ncyB0byBzZWFyY2ggZm9yIG1hdGNoZXNdXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgICBbV2FzIGEgbWF0Y2ggZm91bmQ/XVxuXHRcdCAqL1xuXHRcdGlzX3BhdGg6IGZ1bmN0aW9uKCBzdHJpbmdzICkge1xuXHRcblx0XHRcdHZhciBwYXRoX2V4aXN0cyA9IGZhbHNlLFxuXHRcdFx0XHR1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcblx0XG5cdFx0XHRmb3IoIHZhciBpID0gMDsgaSA8IHN0cmluZ3MubGVuZ3RoOyBpKysgKSB7XG5cdFxuXHRcdFx0XHRpZiAoIHVybC5zZWFyY2goIHN0cmluZ3NbaV0gKSA+IDAgJiYgIXBhdGhfZXhpc3RzICkge1xuXHRcblx0XHRcdFx0XHRwYXRoX2V4aXN0cyA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XG5cdFx0XHRyZXR1cm4gcGF0aF9leGlzdHM7XG5cdFx0fSxcblx0XG5cdFx0LyoqXG5cdFx0ICogUmV0cmlldmVzIHF1ZXJ5IHZhcmlhYmxlc1xuXHRcdCAqIEByZXR1cm4ge1tBcnJheV19IFthcnJheSBvYmplY3Qgb2YgcXVlcnkgdmFyaWFibGUga2V5PT52YWx1ZSBwYWlyc11cblx0XHQgKi9cblx0XHRnZXRfcXVlcnlfdmFyczogZnVuY3Rpb24oKSB7XG5cdFxuXHRcdCAgICB2YXIgdmFycyA9IFtdLCBoYXNoLFxuXHRcdCAgICBcdGhhc2hlcyA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoJz8nKSArIDEpLnNwbGl0KCcmJyk7XG5cdFxuXHRcdCAgICBmb3IodmFyIGkgPSAwOyBpIDwgaGFzaGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0ICAgICAgICBoYXNoID0gaGFzaGVzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0ICAgICAgICB2YXJzLnB1c2goaGFzaFswXSk7XG5cdFx0ICAgICAgICB2YXJzW2hhc2hbMF1dID0gaGFzaFsxXTtcblx0XHQgICAgfVxuXHRcblx0ICAgIFx0cmV0dXJuIHZhcnM7XG5cdFx0fVxuXHRcblx0fTtcblx0XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIGFsbCBjbGFzc2VzIHdpdGhpbiB0aGUgTExNUyBOYW1lc3BhY2Vcblx0ICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG5cdCAqL1xuXHRMTE1TLmluaXQgPSBmdW5jdGlvbigpIHtcblxuXHRcdGZvciAodmFyIGZ1bmMgaW4gTExNUykge1xuXG5cdFx0XHRpZiAoIHR5cGVvZiBMTE1TW2Z1bmNdID09PSAnb2JqZWN0JyAmJiBMTE1TW2Z1bmNdICE9PSBudWxsICkge1xuXG5cdFx0XHRcdGlmICggTExNU1tmdW5jXS5pbml0ICE9PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0XHRpZiAoIHR5cGVvZiBMTE1TW2Z1bmNdLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdExMTVNbZnVuY10uaW5pdCgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRlcm1pbmUgaWYgdGhlIGN1cnJlbnQgZGV2aWNlIGlzIHRvdWNoLWVuYWJsZWRcblx0ICpcblx0ICogQHNlZSAgICAgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQ4MTk4ODYvNDAwNTY4IFsyMDE4IFVwZGF0ZV1cblx0ICogQHJldHVybiAge0Jvb2xlYW59XG5cdCAqIEBzaW5jZSAgIDMuMjQuM1xuXHQgKiBAdmVyc2lvbiAzLjI0LjNcblx0ICovXG5cdExMTVMuaXNfdG91Y2hfZGV2aWNlID0gZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgcHJlZml4ZXMgPSAnIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtICcuc3BsaXQoJyAnKTtcblx0XHR2YXIgbXEgPSBmdW5jdGlvbiggcXVlcnkgKSB7XG5cdFx0XHRyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoIHF1ZXJ5ICkubWF0Y2hlcztcblx0XHR9XG5cblx0XHRpZiAoICggJ29udG91Y2hzdGFydCcgaW4gd2luZG93ICkgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW5jbHVkZSB0aGUgJ2hlYXJ0eicgYXMgYSB3YXkgdG8gaGF2ZSBhIG5vbiBtYXRjaGluZyBNUSB0byBoZWxwIHRlcm1pbmF0ZSB0aGUgam9pblxuXHRcdC8vIGh0dHBzOi8vZ2l0LmlvL3Z6bkZIXG5cdFx0dmFyIHF1ZXJ5ID0gWycoJywgcHJlZml4ZXMuam9pbigndG91Y2gtZW5hYmxlZCksKCcpLCAnaGVhcnR6JywgJyknXS5qb2luKCcnKTtcblx0XHRyZXR1cm4gbXEoIHF1ZXJ5ICk7XG5cblx0fTtcblxuXHQvKipcblx0ICogV2FpdCBmb3IgbWF0Y2hIZWlnaHQgdG8gbG9hZFxuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgY2IgIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJ1biB3aGVuIG1hdGNoaGVpZ2h0IGlzIHJlYWR5XG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjAuMFxuXHQgKiBAdmVyc2lvbiAgMy4xNi42XG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yX21hdGNoSGVpZ2h0ID0gZnVuY3Rpb24oIGNiICkge1xuXHRcdHRoaXMud2FpdF9mb3IoIGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuICggdW5kZWZpbmVkICE9PSAkLmZuLm1hdGNoSGVpZ2h0ICk7XG5cdFx0fSwgY2IgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciB3ZWJ1aVBvcG92ZXIgdG8gbG9hZFxuXHQgKiBAcGFyYW0gICAge0Z1bmN0aW9ufSAgY2IgIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJ1biB3aGVuIG1hdGNoaGVpZ2h0IGlzIHJlYWR5XG5cdCAqIEByZXR1cm4gICB2b2lkXG5cdCAqIEBzaW5jZSAgICAzLjkuMVxuXHQgKiBAdmVyc2lvbiAgMy4xNi42XG5cdCAqL1xuXHRMTE1TLndhaXRfZm9yX3BvcG92ZXIgPSBmdW5jdGlvbiggY2IgKSB7XG5cdFx0dGhpcy53YWl0X2ZvciggZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gKCB1bmRlZmluZWQgIT09ICQuZm4ud2VidWlQb3BvdmVyICk7XG5cdFx0fSwgY2IgKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBXYWl0IGZvciBhIGRlcGVuZGVuY3kgdG8gbG9hZCBhbmQgdGhlbiBydW4gYSBjYWxsYmFjayBvbmNlIGl0IGhhc1xuXHQgKiBUZW1wb3JhcnkgZml4IGZvciBhIGxlc3MtdGhhbi1vcHRpbWFsIGFzc2V0cyBsb2FkaW5nIGZ1bmN0aW9uIG9uIHRoZSBQSFAgc2lkZSBvZiB0aGluZ3Ncblx0ICogQHBhcmFtICAgIHtGdW5jdGlvbn0gICAgdGVzdCAgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB0cnV0aHkgaWYgdGhlIGRlcGVuZGVuY3kgaXMgbG9hZGVkXG5cdCAqIEBwYXJhbSAgICB7RnVuY3Rpb259ICAgIGNiICAgIGEgY2FsbGJhY2sgZnVuY3Rpb24gZXhlY3V0ZWQgb25jZSB0aGUgZGVwZW5kZW5jeSBpcyBsb2FkZWRcblx0ICogQHJldHVybiAgIHZvaWRcblx0ICogQHNpbmNlICAgIDMuOS4xXG5cdCAqIEB2ZXJzaW9uICAzLjkuMVxuXHQgKi9cblx0TExNUy53YWl0X2ZvciA9IGZ1bmN0aW9uKCB0ZXN0LCBjYiApIHtcblxuXHRcdHZhciBjb3VudGVyID0gMCxcblx0XHRcdGludGVydmFsO1xuXG5cdFx0aW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggZnVuY3Rpb24oKSB7XG5cblx0XHRcdC8vIGlmIHdlIGdldCB0byAzMCBzZWNvbmRzIGxvZyBhbiBlcnJvciBtZXNzYWdlXG5cdFx0XHRpZiAoIGNvdW50ZXIgPj0gMzAwICkge1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKCAnY291bGQgbm90IGxvYWQgZGVwZW5kZW5jeScgKTtcblxuXHRcdFx0Ly8gaWYgd2UgY2FuJ3QgYWNjZXNzIHllLCBpbmNyZW1lbnQgYW5kIHdhaXQuLi5cblx0XHRcdH0gZWxzZSB7XG5cblx0XHRcdFx0Ly8gYmluZCB0aGUgZXZlbnRzLCB3ZSdyZSBnb29kIVxuXHRcdFx0XHRpZiAoIHRlc3QoKSApIHtcblxuXHRcdFx0XHRcdGNiKCk7XG5cblx0XHRcdFx0fSBlbHNlIHtcblxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCAnd2FpdGluZy4uLicgKTtcblx0XHRcdFx0XHRjb3VudGVyKys7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHRjbGVhckludGVydmFsKCBpbnRlcnZhbCApO1xuXG5cdFx0fSwgMTAwICk7XG5cblx0fTtcblxuXHRMTE1TLmluaXQoJCk7XG5cblxufSkoalF1ZXJ5KTtcbiJdfQ==
